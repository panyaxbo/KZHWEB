"use strict";var app=angular.module("KZHWEB",["ngRoute","ngAnimate","ngFileUpload","720kb.datepicker","blockUI","ngDialog","ngPasswordStrength","ngTable","pascalprecht.translate","vcRecaptcha","autocomplete","ngCookies"]);app.directive("ngHasfocus",function(){return function(a,b,c){a.$watch(c.ngHasfocus,function(a,c){a&&b[0].focus()}),b.bind("blur",function(){a.$apply(c.ngHasfocus+" = false")}),b.bind("keydown",function(b){13==b.which&&a.$apply(c.ngHasfocus+" = false")})}}),app.config(function(a){a.translations("th",{TITLE:"โค้ว ซุ่น เฮง - ศูนย์รวมอะไหล่มอเตอร์ไซค์ ยาง น้ำมันเครื่อง",TITLE:{NAME:"โค้ว ซุ่น เฮง - ศูนย์รวมอะไหล่มอเตอร์ไซค์, ยาง และ น้ำมันเครื่อง",DESCRIPTION:""},HEAD:{MENU:{SEARCH:{PLACEHOLDER:"พิมพ์เพื่อค้นหา และกด enter"},PRODUCT:"สินค้า",WEBBOARD:"เว็บบอร์ด",PAYMENT:"การชำะเงิน",DELIVERY:"การจัดส่งสินค้า",PAYMENT_N_DELIVERY:"ชำระเงิน & จัดส่ง",DEFINITION:"ข้อกำหนด",CUSTOMER:"การสั่งซื้อของลูกค้า",ABOUT:"เกี่ยวกับเรา",CONTACT:"ติดต่อเรา",ACCOUNT:"ตั้งค่าบัญชี",HISTORY:"ประวัติการซื้อ",GENERAL:"ตั้งค่าทั่วไป",LOGOUT:"ออกจากระบบ"},SIGNIN:"เข้าสู่ระบบ",SIGNOUT:"ออกจากระบบ",MODAL_SIGNIN:{HEAD:"เข้าสู่ระบบ/ลงทะเบียน",LABEL_USERNAME:"รหัสผู้ใช้",PLACEHOLDER_USERNAME:"อีเมล",LABEL_PASSWORD:"รหัสผ่าน",PLACEHOLDER_PASSWORD:"รหัสผ่าน",FORGET_PASSWORD:"ลืมรหัสผ่าน",REMEMBER_ME:"จดจำฉันไว้",REMEMBER_ME_REASON:"(ถ้านี่เป็นคอมพิวเตอร์ส่วนตัว)",TAB_SIGNUP:"ลงทะเบียน",BUTTON_SIGNIN:"เข้าสู่ระบบ",FACEBOOK_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Facebook",TWITTER_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Twitter",LINKEDIN_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Linkedin",GOOGLE_PLUS_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Google+",INSTAGRAM_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Instagram",GITHUB_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Github",DROPBOX_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Dropbox",FOURSQUARE_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Foursquare",SOUNDCLOUD_SIGNIN:"เข้าสู่ระบบด้วยบัญชี Soundcloud",FIRST_NAME:"ชื่อ",LAST_NAME:"นามสกุล",EMAIL:"อีเมล",USERNAME:"ชื่อผู้ใช้",PASSWORD:"รหัสผ่าน",STRENGTH:"ความซับซ้อน",RECAPTCHA:"ตรวจสอบว่าท่านไม่ใช่หุ่นยนต์",BUTTON_SIGNUP:"ลงทะเบียน",TERM_SERVICE_LABEL:"ฉันยอมรับ",TERM_SERVICE:"ข้อตกลง"},CART:"ตะกร้า",MODAL_CART:{EMPTY_CART:"ตะกร้าว่าง",PRODUCT_CART:"สินค้าในตะกร้า",SEQ:"ลำดับ",ITEM_NAME:"รายการ",QTY:"จำนวน",UOM:"หน่วย",PRICE:"ราคา",DISCOUNT:"ส่วนลด",AMOUNT:"รวมเงิน",REMOVE:"ลบ",SUMAMT:"ยอดเงิน",SUMDISCAMT:"รวมส่วนลด",SUMVATAMT:"ภาษี",NETAMT:"ยอดสุทธิ",SHOP_BUTTON:"ดูสินค้า",SAVE_BUTTON:"บันทึกตะกร้า",CLEAR_BUTTON:"ล้างตะกร้า",CHECKOUT_BUTTON:"ดำเนินการต่อ"},MODAL_FORGET_PASSWORD:{TITLE:"ลืมรหัสผ่าน ?",TEXT:"ท่านสามารถเปลี่ยนรหัสผ่านโดยกรอกอีเมล",EMAIL_PHD:"อีเมล",SEND_EMAIL_BUTTON:"ส่งอีเมล"},MODAL_INPUT_PASSWORD:{TITLE:"เปลี่ยนรหัสผ่าน ?",TEXT:"",PASSWORD:"รหัสผ่าน",CONFIRM_PASSWORD:"ยืนยันรหัสผ่าน",CHANGE_PASSWORD_BUTTON:"เปลี่ยนรหัสผ่าน"},WELCOME:"ยินดีต้อนรับ"},BODY:{NAV:{},CAROUSEL:{ONE:{TITLE:"",TEXT:""},TWO:{TITLE:"",TEXT:""},THREE:{TITLE:"",TEXT:""},FOUR:{TITLE:"",TEXT:""},FIVE:{TITLE:"",TEXT:""},SIX:{TITLE:"",TEXT:""},SEVEN:{TITLE:"",TEXT:""}},SECTION:{PRODUCT:{QTY:"จำนวน",PRICE:"ราคา",LIKE:"ชอบ",BUY:"ซื้อ",DETAIL:"รายละเอียด",LABEL_NEW:"ใหม่",LABEL_HOT:"ขายดี",LABEL_SALE:"ลด"},WEBBOARD:{HEAD:"เว็บบอร์ด"},PAYMENT:{HEAD:"การจ่ายเงิน",BBL_ACC:"หมายเลข : 440-99934-3454",KBANK_ACC:"หมายเลข : 440-99934-3454",SCB_ACC:"หมายเลข : 440-99934-3454",KTB:"หมายเลข : 440-99934-3454",KCC:"หมายเลข : 440-99934-3454"},ABOUT:{HEAD:"เกี่ยวกับเรา"},CONTACT:{HEAD:"ติดต่อเรา"},GOOGLE_MAP:{HEAD:"แผนที่",ADDRESS1:"30-32 หมู่. 2 ",ADDRESS2:"",SUBDISTRICT:"ระแงง",DISTRICT:"ศีขรภูมิ",PROVINCE:"สุรินทร์",TEL_NO:"044-561125",EMAIL:"kzh.parts@gmail.com"},THAI_POST:{HEAD:"ไปรษณีย์"},SHIPMENT:{HEAD:"การขนส่ง",BILLING:{STEP:"ที่อยู่จัดส่งสินค้า",BILL_STEP:"ที่อยู่จัดส่งสินค้า",BILL_NAME:"ชื่อ",BILL_EMAIL:"อีเมล",BILL_ADDRESS:"ที่อยู่",BILL_PROVINCE:"จังหวัด",BILL_SELECT_PROVINCE:"--- เลือก จังหวัด ---",BILL_DISTRICT:"เขต/อำเภอ :",BILL_SELECT_DISTRICT:"--- เลือก เขต/อำเภอ ---",BILL_SUBDISTRICT:"แขวง/ตำบล :",BILL_SELECT_SUBDISTRICT:"--- เลือก แขวง/ตำบล ---",BILL_ZIPCODE:"รหัสไปรษณีย์ :",BILL_SELECT_ZIPCODE:"--- เลือก ไปรษณีย์ ---",TEL_NO:"โทรศัพท์",MOBILE_NO:"มือถือ",SAME_ADDRESS:"ที่อยู่เดียวกับที่จัดส่ง",RO_STEP:"ที่อยู่ที่แสดงในใบเสร็จ ",RO_NAME:"ชื่อ ",RO_ADDRESS:"ที่อยู่",RO_PROVINCE:"จังหวัด",RO_SELECT_PROVINCE:"--- เลือก จังหวัด ---",RO_DISTRICT:"เขต/อำเภอ",RO_SELECT_DISTRICT:"--- เลือก เขต/อำเภอ ---",RO_SUBDISTRICT:"แขวง/ตำบล",RO_SELECT_SUBDISTRICT:"--- เลือก แขวง/ตำบล ---",RO_ZIPCODE:"รหัสไปรษณีย์",RO_SELECT_ZIPCODE:"--- เลือก ไปรษณีย์ ---",BUTTON_NEXT:"ขั้นตอนต่อไป"},PAYMENT:{STEP:"การจ่ายเงิน",PAYMENT_TYPE:"ประเภทของการชำระเงิน",SELECT_PAYMENT_TYPE:"--- เลือก ประเภทของการชำระเงิน ---",TRANSFER:"โอนเงิน",BBL:{NAME:"ธ. กรุงเทพ",ACCOUNT_NO:"-",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"ศีขรภูมิ"},KBANK:{NAME:"ธ. กสิกรไทย",ACCOUNT_NO:"003-1-71056-1",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"ศีขรภูมิ"},KTB:{NAME:"ธ. กรุงไทย",ACCOUNT_NO:"331-0-38978-2",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"ศีขรภูมิ"},SCB:{NAME:"ธ. ไทยพาณิชย์",ACCOUNT_NO:"-",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"เมืองสุรินทร์"},KCC:{NAME:"ธ. กรุงศรี",ACCOUNT_NO:"-",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"เมืองสุรินทร์"},TMB:{NAME:"ธ. ทีเอ็มบี",ACCOUNT_NO:"-",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"เมืองสุรินทร์"},UOB:{NAME:"ธ. ยูโอบี",ACCOUNT_NO:"-",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"เมืองสุรินทร์"},TNC:{NAME:"ธ. ธนชาต",ACCOUNT_NO:"-",ACCOUNT_NAME:"นาย ปัญญา บุญยกุลศรีรุ่ง",ACCOUNT_TYPE:"ออมทรัพย์",ACCOUNT_BRANCH:"เมืองสุรินทร์"},CREDIT:"เครดิตการ์ด",BUTTON_NEXT:"ขั้นตอนต่อไป"},FINISH:{STEP:"สิ้นสุด",BUTTON:"กดเพื่อสิ้นสุด"}},SETTING:{BUTTON:{NEW:"เพิ่ม",SAVE:"บันทึก",DELETE:"ลบ",CANCEL:"ยกเลิก",SEARCH:"ค้นหา"},PRODUCT_TYPE:{TAB:"ชนิดสินค้า",PRODUCT_TYPE_CODE:"รหัสชนิดสินค้า :",PRODUCT_TYPE_NAME_TH:"ชื่อชนิดสินค้า (ไทย) :",PRODUCT_TYPE_NAME_EN:"ชื่อชนิดสินค้า (อังกฤษ) :",PRODUCT_TYPE_NAME_CN:"ชื่อชนิดสินค้า (จีน) :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_PRODUCT_TYPE_CRITERIA_LABEL:"เงื่อนไขการค้นหาชนิดสินค้า",PRODUCT_TYPE_CODE_LABEL:"รหัสชนิดสินค้า :",PRODUCT_TYPE_NAME_LABEL:"ชื่อชนิดสินค้า :"},PRODUCT_CATEGORY:{TAB:"ประเภทสินค้า",PRODUCT_CATEGORY_CODE:"รหัสประเภทสินค้า :",PRODUCT_CATEGORY_NAME_TH:"ชื่อประเภทสินค้า (ไทย) :",PRODUCT_CATEGORY_NAME_EN:"ชื่อประเภทสินค้า (อังกฤษ) :",PRODUCT_CATEGORY_NAME_CN:"ชื่อประเภทสินค้า (จีน) :",PRODUCT_TYPE:"ชนิดสินค้า :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_PRODUCT_CATEGORY_CRITERIA_LABEL:"เงื่อนไขการค้นหาประเภทสินค้า",PRODUCT_CATEGORY_CODE_LABEL:"รหัสประเภทสินค้า :",PRODUCT_CATEGORY_NAME_LABEL:"ชื่อประเภทสินค้า :",PRODUCT_TYPE_LABEL:"ชนิดสินค้า :"},PRODUCT:{TAB:"สินค้า",PRODUCT_CODE:"รหัสสินค้า :",PRODUCT_NAME_TH:"ชื่อสินค้า (ไทย) :",PRODUCT_NAME_EN:"ชื่อสินค้า (อังกฤษ) :",PRODUCT_NAME_CN:"ชื่อสินค้า (จีน) :",PRODUCT_CATEGORY:"ประเภทสินค้า :",COST_PRICE:"ราคา ต้นทุน :",RETAIL_PRICE:"ราคา ขายปลีก :",WHOLESALE_PRICE:"ราคา ขายส่ง :",UOM:"หน่วย :",CONTAIN_UOM:"หน่วยบรรจุ :",CONTAIN_QUANTITY:"จำนวน/บรรจุ :",CONTAIN_COST_PRICE:"ราคาต้นทุน/บรรจุ :",CONTAIN_WHOLESALE_PRICE:"ราคาขายส่ง/บรรจุ :",IS_HOT:"ร้อนแรง ?!! :",IMAGE:"รูปภาพ :",IMAGE_THUMBNAIL:"แสดงรูปภาพ :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_PRODUCT_CRITERIA_LABEL:"เงื่อนไขการค้นหาสินค้า",PRODUCT_CODE_LABEL:"รหัสสินค้า :",PRODUCT_NAME_LABEL:"ชื่อสินค้า :",PRODUCT_CATEGORY_LABEL:"ประเภทสินค้า :"},PROMOTION:{TAB:"โปรโมชั่น",PROMOTION_CODE:"รหัสโปรโมชั่น",PROMOTION_NAME_TH:"ชื่อโปรโมชั่น (ไทย)",PROMOTION_NAME_EN:"ชื่อโปรโมชั่น (อังกฤษ)",PROMOTION_NAME_CN:"ชื่อโปรโมชั่น (จีน)",IS_ACTIVE:"ใช้งาน ?",IS_EXPIRE:"หมดอายุ ?",START_DATE:"วันที่เริ่ม",END_DATE:"วันที่สิ้นสุด",DISCOUNT_PERCENT:"ส่วนลด %",SEARCH_PROMOTION_CRITERIA_LABEL:"เงื่อนไขการค้นหาโปรโมชั่น",PROMOTION_CODE_LABEL:"รหัสโปรโมชั่น :",PROMOTION_DATE_LABEL:"วันที่สร้างโปรโมชั่น :",PROMOTION_NAME_LABEL:"ชื่อโปรโมชั่น :",IS_ACTIVE_LABEL:"ใช้งาน ? :",START_DATE_LABEL:"วันที่เริ่ม :",END_DATE_LABEL:"วันที่สิ้นสุด :",SEARCH_PRODUCT:"ค้นหาสินค้า",ADD_PRODUCT_BUTTON:"เพิ่มหาสินค้า"},CUSTOMER_TYPE:{TAB:"ชนิดลูกค้า",CUSTOMER_TYPE_CODE:"รหัสชนิดลูกค้า",CUSTOMER_TYPE_NAME_TH:"ชื่อชนิดลูกค้า (ไทย)",CUSTOMER_TYPE_NAME_EN:"ชื่อชนิดลูกค้า (อังกฤษ)",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_CUSTOMER_TYPE_CRITERIA_LABEL:"เงื่อนไขการค้นหาชนิดลูกค้า",CUSTOMER_TYPE_CODE_LABEL:"รหัสชนิดลูกค้า :",CUSTOMER_TYPE_NAME_LABEL:"ชื่อชนิดลูกค้า :"},CUSTOMER:{TAB:"ลูกค้า",CUSTOMER_CODE:"รหัสลูกค้า",FIRST_NAME:"ชื่อชนิดลูกค้า (อังกฤษ)",LAST_NAME:"ชื่อชนิดลูกค้า (อังกฤษ)",KNOWN_NAME:"ชื่อชนิดลูกค้า (อังกฤษ)",TEL_NO:"โทรศัพท์",FAX_NO:"โทรสาร",MOBILE_NO:"มือถือ",EMAIL:"อีเมล",DESCRIPTION:"คำอธิบาย",CUSTOMER_TYPE:"ชนิดลูกค้า",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_CUSTOMER_CRITERIA_LABEL:"เงื่อนไขการค้นหาลูกค้า",CUSTOMER_CODE_LABEL:"รหัสลูกค้า :",CUSTOMER_NAME_LABEL:"ชื่อลูกค้า :",CUSTOMER_TYPE_LABEL:"ชนิดลูกค้า :"},STAFF:{TAB:"พนักงาน",STAFF_CODE:"รหัสพนักงาน",FIRST_NAME:"ชื่อ",LAST_NAME:"นามสกุล",NICK_NAME:"ชื่อเล่น",AGE:"อายุ",SEX:"เพศ",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_STAFF_CRITERIA_LABEL:"เงื่อนไขการค้นหาพนักงาน",STAFF_CODE_LABEL:"รหัสลูกค้า :",STAFF_NAME_LABEL:"ชื่อลูกค้า :"},ROLE:{TAB:"ตำแหน่ง",ROLE_CODE:"รหัสตำแหน่ง :",ROLE_NAME_TH:"ชื่อตำแหน่ง (ไทย) :",ROLE_NAME_EN:"ชื่อตำแหน่ง (อังกฤษ) :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_ROLE_CRITERIA_LABEL:"เงื่อนไขการค้นหาบทบาท",ROLE_CODE_LABEL:"รหัสบทบาท :",ROLE_NAME_LABEL:"ชื่อบทบาท :"},UOM:{TAB:"หน่วย",UOM_CODE:"รหัสหน่วย :",UOM_NAME_TH:"ชื่อหน่วย (ไทย) :",UOM_NAME_EN:"ชื่อหน่วย (อังกฤษ) :",UOM_NAME_CN:"ชื่อหน่วย (จีน) :",IS_CONTAINER:"หน่วยบรรจุ :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",SEARCH_UOM_CRITERIA_LABEL:"เงื่อนไขการค้นหาหน่วย",UOM_CODE_LABEL:"รหัสหน่วย :",UOM_NAME_LABEL:"ชื่อหน่วย :",IS_CONTAINER_LABEL:"บรรจุ :"},RECEIPT_ORDER:{TAB:"ใบเสร็จ",RO_NO:"รหัสใบเสร็จ",RO_DATE:"วันที่ใบเสร็จ",RO_TIME:"เวลาใบเสร็จ"},SUPPLIER:{TAB:"ผู้ขาย",SUPPLIER_CODE:"รหัสผู้ขาย :",SUPPLIER_NAME_TH:"ชื่อผู้ขาย (ไทย) :",SUPPLIER_NAME_EN:"ชื่อผู้ขาย (อังกฤษ) :",DESCRIPTION:"คำอธิบาย :",EMAIL:"อีเมล :",TEL_NO:"โทรศัพท์ :",FAX_NO:"โทรสาร :",MOBILE_NO:"มือถือ :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",SEARCH_SUPPLIER_CRITERIA_LABEL:"เงื่อนไขการค้นหาผู้ขาย",SUPPLIER_CODE_LABEL:"รหัสผู้ขาย :",SUPPLIER_NAME_LABEL:"ชื่อผู้ขาย :",DESCRIPTION_LABEL:"คำอธิบาย :",EMAIL_LABEL:"อีเมล :",TEL_NO_LABEL:"โทรศัพท์ :",FAX_NO_LABEL:"โทรสาร :",MOBILE_NO_LABEL:"มือถือ :"},APP_USER:{TAB:"ผู้ใช้ระบบ",USERNAME:"รหัสผู้ใช้",PASSWORD:"รหัสผ่าน้",FIRSTNAME:"ชื่อ",LASTNAME:"นามสกุล",EMAIL:"อีเมล",USER_TYPE:"ชนิดผู้ใช้",ROLE:"บทบาท",TERMINAL:"ช่องทาง",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",SEARCH_APP_USER_CRITERIA_LABEL:"เงื่อนไขการค้นหาผู้ใช้ระบบ",USERNAME_LABEL:"ผู้ใช้ระบบ :",NAME_LABEL:"ชื่อ :",TERMINAL_LABEL:"ช่องทาง :",ROLE_LABEL:"บทบาท :"}},ACCOUNT:{HEAD:"รายละเอียดผู้ใช้ระบบ",BUTTON:{CANCEL:"ยกเลิก",SAVE:"บันทึก"},FIRST_NAME:"ชื่อ :",LAST_NAME:"นามสกุล :",EMAIL:"อีเมล :",USERNAME:"รหัสผู้ใช้ :",PASSWORD:"รหัสผ่าน :",PROFILE_IMAGE:"รูปภาพ :",DROP_FILE:"ดร็อปเอกสาร :",DROP_IMAGE_PDF:"ดร็อปรูปภาพ หรือ เอกสาร",IMAGE_THUMBNAIL:"แสดงรูปภาพ :"},HISTORY:{HEAD:"ประวัติการสั่งซื้อ",BUTTON:{SEARCH:"ค้นหา"},FROM:"จาก :",TO:"ถึง :",PAYMENT_STATUS:"สถานะการจ่ายเงิน :",SHIPPING_STATUS:"สถานะการขนส่ง :",PAYMENT:{OWED:"ค้างชำระ",PAID:"ชำระแล้ว"},SHIPPING:{NOT_SHIPPING:"ยังไม่ได้ส่งสินค้า",SHIPPING:"ส่งสินค้าแล้ว"}},CUSTOMER_ORDER:{BUTTON:{SEARCH:"ค้นหา"},HEAD:"ใบสั่งซื้อลูกค้า :",RO_NO:"เลขที่ใบเสร็จ :",RO_NO_PLACEHOLDER:"เลขที่ใบเสร็จ",CUSTOMER:"ลูกค้า :",CUSTOMER_PLACEHOLDER:"ลูกค้า",FROM:"วันที่เริ่ม :",FROM_PLACEHOLDER:"วันที่เริ่ม",TO:"วันที่สิ้นสุด :",TO_PLACEHOLDER:"วันที่สิ้นสุด",PAYMENT_STATUS:"สถานะการชำระเงิน :",PAYMENT_PLACEHOLDER:"สถานะการชำระเงิน",SHIPPING_STATUS:"สถานะการส่งสินค้า :",SHIPPING_PLACEHOLDER:"สถานะการส่งสินค้า",PAYMENT:{OWED:"ค้างชำระ",PAID:"ชำระแล้ว"},SHIPPING:{NOT_SHIPPING:"ยังไม่ได้ส่งสินค้า",SHIPPING:"ส่งสินค้าแล้ว"}},VIEW_RO_MODAL:{DATE:"วันที่",RO_NO:"เลขที่ใบเสร็จ",RO_LABEL:"ใบเสร็จ",IMAGE_PAYMENT_DOCUMENT:"รูปเอกสารการชำระเงิน",UPLOAD_BUTTON:"อัพโหลดเอกสารการชำระเงิน",APPROVE_BUTTON:"อนุมัติ",REJECT_BUTTON:"ปฏิเสธ"}}},FOOTER:{TYRE:{HEAD:"ยางนอก - ยางใน",REMARK:"ด้วยยางเกรดคุณภาพ และทั่วไป"},LUBRICANT:{HEAD:"น้ำมันเครื่อง",REMARK:"น้ำมันหล่อลื่นคุณภาพดี ซึ่งมีจำหน่ายหลากหลายยี่ห้อ"},BATTERY:{HEAD:"แบตเตอรี่",REMARK:""},BRAKE:{HEAD:"ระบบเบรค",REMARK:"ทำให้เชื่อมั่นในการขับขี่ยานพาหนะ ไม่ว่าสถานการณ์ไหน"},SHOCK:{HEAD:"โช๊คอัพ",REMARK:"ช่วงล่างที่แน่นรู้สึกสบายและมั่นใจในยามขับขี่"},WRENCH:{HEAD:"เครื่องมือ",REMARK:""},COPY_RIGHT:"",CONTACT_US:""},MESSAGE:{TYPE_SUCCESS:"success",TYPE_WARNING:"warning",TYPE_ERROR:"error",TITLE_SUCCESS_DEFAULT:"สำเร็จ",TITLE_WARNING_DEFAULT:"คำเตือน",TITLE_ERROR_DEFAULT:"ข้อผิดพลาด",LOGIN:{SUCCESS:""},HEAD:{LOG_IN:{PRE_TITLE_SUCCESS:""},LOG_OUT:{},FORGET_PASSWORD:{},ADD_CART:{}},BODY:{UPDATE_CART_BUY_QTY:"จำนวนต้องเป็นตัวเลข หรือ มากกว่า 0"}}}),a.translations("us",{TITLE:"Koh Zhun Heng - Center of Motorcycle Parts Tyre and Lubricant",TITLE:{NAME:"Koh Zhun Heng - Center of Motorcycle Parts Tyre and Lubricant",DESCRIPTION:""},MESSAGE:{TYPE_SUCCESS:"success",TYPE_WARNING:"warning",TYPE_ERROR:"error",TITLE_SUCCESS:"Success",TITLE_WARNING:"Warning",TITLE_ERROR:"Error",HEAD:{},CONTENT:{UPDATE_CART_BUY_QTY:"Must input quantity as a number or more than 0"}},HEAD:{MENU:{SEARCH:{PLACEHOLDER:"Type for search and press enter"},PRODUCT:"Product",WEBBOARD:"Webboard",PAYMENT:"Payment",DELIVERY:"Delivery",PAYMENT_N_DELIVERY:"Payment & Delivery",DEFINITION:"Definition",ABOUT:"About us",CONTACT:"Contact us",CUSTOMER:"Customer Order",ACCOUNT:"Account Setting",HISTORY:"Purchase History",GENERAL:"General Setting",LOGOUT:"Logout"},SIGNIN:"Log in",SIGNOUT:"Log out",MODAL_SIGNIN:{HEAD:"Sign in/Sign up",LABEL_USERNAME:"Username",LABEL_PASSWORD:"Password",BUTTON_SIGNIN:"Log in",TAB_SIGNUP:"Sign up",FORGET_PASSWORD:"Forget Password",REMEMBER_ME:"Remember Me",REMEMBER_ME_REASON:"(If this is a private computer)",FACEBOOK_SIGNIN:"Sign in with Facebook",TWITTER_SIGNIN:"Sign in with Twitter",GOOGLE_PLUS_SIGNIN:"Sign in with Google+",LINKEDIN_SIGNIN:"Sign in with Linkedin",INSTAGRAM_SIGNIN:"Sign in with Instagram",GITHUB_SIGNIN:"Sign in with Github",DROPBOX_SIGNIN:"Sign in with Github",YOUTUBE_SIGNIN:"Sign in with Youtube",EVERNOTE_SIGNIN:"Sign in with Evernote",FOURSQUARE_SIGNIN:"Sign in with Foursquare",SOUNDCLOUD_SIGNIN:"Sign in with Soundcloud",FIRST_NAME:"Firstname",LAST_NAME:"Lastname",EMAIL:"Email",USERNAME:"Username",PASSWORD:"Password",STRENGTH:"Password Strength",RECAPTCHA:"Recaptcha",BUTTON_SIGNUP:"Sign up",TERM_SERVICE_LABEL:"I agree of your",TERM_SERVICE:"Term of Services"},CART:"Cart",MODAL_CART:{EMPTY_CART:"Empty Cart",PRODUCT_CART:"Products in Cart",SEQ:"Seq",ITEM_NAME:"Item",QTY:"Qty",UOM:"Uom",PRICE:"Price",DISCOUNT:"Discount",AMOUNT:"Amount",REMOVE:"Remove",SUMAMT:"Sum Amount",SUMDISCAMT:"Sum Discount Amount",SUMVATAMT:"VAT Amount",NETAMT:"Net Amount",SHOP_BUTTON:"Continue Shopping",SAVE_BUTTON:"Save Cart",CLEAR_BUTTON:"Clear Cart",CHECKOUT_BUTTON:"Check out"},MODAL_FORGET_PASSWORD:{TITLE:"Forget Password ?",TEXT:"You can reset your password here.",EMAIL_PHD:"Email Address",SEND_EMAIL_BUTTON:"Send me Email"},WELCOME:"Welcome"},BODY:{NAV:{},SECTION:{PRODUCT:{QTY:"Qty",PRICE:"Price",LIKE:"Like",BUY:"Buy",DETAIL:"Detail",LABEL_NEW:"N E W",LABEL_HOT:"H O T",LABEL_SALE:"S A L E"},WEBBOARD:{HEAD:"Webboard"},PAYMENT:{BBL_ACC:"Acc. No : 440-99934-3454",KBANK_ACC:"Acc. No : 440-99934-3454",SCB_ACC:"Acc. No : 440-99934-3454",KTB_ACC:"Acc. No : 440-99934-3454",KCC_ACC:"Acc. No : 440-99934-3454"},ABOUT:{HEAD:"About us"},CONTACT:{HEAD:"Contact us"},SHIPMENT:{HEAD:"Shipment",BILLING:{STEP:"Billing Address",BILL_STEP:"Billing Address",BILL_NAME:"Name",BILL_EMAIL:"Email",BILL_ADDRESS:"Address",BILL_PROVINCE:"Province",BILL_SELECT_PROVINCE:"--- Choose Province ---",BILL_DISTRICT:"District",BILL_SELECT_DISTRICT:"--- Choose District ---",BILL_SUBDISTRICT:"Sub-District",BILL_SELECT_SUBDISTRICT:"--- Choose Sub-District ---",BILL_ZIPCODE:"ZipCode",BILL_SELECT_ZIPCODE:"--- Choose ZipCode ---",TEL_NO:"Tel No",MOBILE_NO:"Mobile No",SAME_ADDRESS:"Same as billing address",RO_STEP:"Receipt Address",RO_NAME:"Name",RO_ADDRESS:"Address",RO_PROVINCE:"Province",RO_SELECT_PROVINCE:"--- Choose Province ---",RO_DISTRICT:"District",RO_SELECT_DISTRICT:"--- Choose District ---",RO_SUBDISTRICT:"Sub-District",RO_SELECT_SUBDISTRICT:"--- Choose Sub-District ---",RO_ZIPCODE:"ZipCode",RO_SELECT_ZIPCODE:"--- Choose ZipCode ---",BUTTON_NEXT:"Next"},PAYMENT:{STEP:"Payment",PAYMENT_TYPE:"Payment Type",SELECT_PAYMENT_TYPE:"--- Choose Payment Type ---",TRANSFER:"Transfer",BBL:{NAME:"BANGKOK BANK",ACCOUNT_NO:"-",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SRIKHORAPHUM"},KBANK:{NAME:"KASIKORN BANK",ACCOUNT_NO:"003-1-71056-1",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SRIKHORAPHUM"},KTB:{NAME:"KRUNGTHAI BANK",ACCOUNT_NO:"331-0-38978-2",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SRIKHORAPHUM"},SCB:{NAME:"SIAM COMMERCIAL BANK",ACCOUNT_NO:"-",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SURIN"},KCC:{NAME:"KRUNGSRI BANK",ACCOUNT_NO:"-",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SURIN"},TMB:{NAME:"TMB BANK",ACCOUNT_NO:"-",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SURIN"},UOB:{NAME:"UOB BANK",ACCOUNT_NO:"-",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SURIN"},TNC:{NAME:"THANACHART BANK",ACCOUNT_NO:"-",ACCOUNT_NAME:"PANYA BOONYAKULSRIRUNG",ACCOUNT_TYPE:"SAVING",ACCOUNT_BRANCH:"SURIN"},CREDIT:"Credit Card",BUTTON_NEXT:"Next"},FINISH:{STEP:"Finish",BUTTON_FINISH:"Click to finish"}},GOOGLE_MAP:{ADDRESS1:"30-32 Moo. 2 Thepnimit Road ",ADDRESS2:"",SUBDISTRICT:"Rangang",DISTRICT:"Srikhoraphum",PROVINCE:"Surin",TEL_NO:"044-561125",EMAIL:"kzh.parts@gmail.com"},THAI_POST:{HEAD:"Post"},SETTING:{BUTTON:{NEW:"New",SAVE:"Save",DELETE:"Delete",CANCEL:"Cancel",SEARCH:"Search"},PRODUCT_TYPE:{TAB:"Product Type",PRODUCT_TYPE_CODE:"Product Type Code",PRODUCT_TYPE_NAME_TH:"Product Type Name (TH)",PRODUCT_TYPE_NAME_EN:"Product Type Name (EN)",PRODUCT_TYPE_NAME_CN:"Product Type Name (CN)"},PRODUCT_CATEGORY:{TAB:"Product Category",PRODUCT_CATEGORY_CODE:"Product Category Code",PRODUCT_CATEGORY_NAME_TH:"Product Category Name (TH)",PRODUCT_CATEGORY_NAME_EN:"Product Category Name (EN)",PRODUCT_CATEGORY_NAME_CN:"Product Category Name (CN)",PRODUCT_TYPE:"Product Type"},PRODUCT:{TAB:"Product",PRODUCT_CODE:"Product Code",PRODUCT_NAME_TH:"Product Name (TH)",PRODUCT_NAME_EN:"Product Name (EN)",PRODUCT_NAME_CN:"Product Name (CN)",PRODUCT_CATEGORY:"Product Category",COST_PRICE:"Cost Price",RETAIL_PRICE:"Retail Price",WHOLESALE_PRICE:"Wholesale Price",UOM:"Uom",CONTAIN_UOM:"Contain Uom",CONTAIN_QUANTITY:"Contain Qty.",CONTAIN_COST_PRICE:"Contain Cost Price",CONTAIN_WHOLESALE_PRICE:"Contain Wholesale Price",IS_HOT:"Is Hot ?!!",IMAGE:"Image",IMAGE_THUMBNAIL:"Image Thumbnail"},PROMOTION:{TAB:"Promotion",SEARCH_PROMOTION_CRITERIA_LABEL:"Search Promotion Criteria",PROMOTION_CODE:"Promotion Code",PROMOTION_NAME_TH:"Promotion Name (TH)",PROMOTION_NAME_EN:"Promotion Name (EN)",PROMOTION_NAME_CN:"Promotion Name (CN)",IS_ACTIVE:"Active ?",IS_EXPIRE:"Expire ?",START_DATE:"Start Date :",END_DATE:"End Date :",DISCOUNT_PERCENT:"Discount %",PROMOTION_CODE_LABEL:"Promotion Code :",PROMOTION_NAME_TH_LABEL:"Promotion Name (TH) :",PROMOTION_NAME_EN_LABEL:"Promotion Name (EN) :",PROMOTION_NAME_CN_LABEL:"Promotion Name (CN) :",IS_ACTIVE_LABEL:"Is Active? :",START_DATE_LABEL:"Start Date :",END_DATE_LABEL:"End Date :",SEARCH_PRODUCT:"Search Product",ADD_PRODUCT_BUTTON:"Add Product"},CUSTOMER_TYPE:{TAB:"Customer Type",CUSTOMER_TYPE_CODE:"Customer Type Code",CUSTOMER_TYPE_NAME_TH:"Customer Type Name (TH)",CUSTOMER_TYPE_NAME_EN:"Customer Type Name (EN)"},CUSTOMER:{TAB:"Customer",CUSTOMER_CODE:"Customer Code",FIRST_NAME:"Firstname",LAST_NAME:"Lastname",KNOWN_NAME:"Knownname",TEL_NO:"Tel No.",FAX_NO:"Fax No.",MOBILE_NO:"Mobile No.",EMAIL:"Email",DESCRIPTION:"Description"},STAFF:{TAB:"Staff",STAFF_CODE:"Staff Code",FIRST_NAME:"Firstname",LAST_NAME:"Lastname",NICK_NAME:"Nickname",AGE:"Age",SEX:"Sex"},ROLE:{TAB:"Role",ROLE_CODE:"Role Code",ROLE_NAME_TH:"Role Name (TH)",ROLE_NAME_EN:"Role Name (EN)"},RECEIPT_ORDER:{TAB:"Receipt",RO_NO:"RO No.",RO_DATE:"RO Date",RO_TIME:"RO Time"},SUPPLIER:{TAB:"Supplier",SUPPLIER_CODE:"รหัสผู้ขาย :",SUPPLIER_NAME_TH:"ชื่อผู้ขาย (ไทย) :",SUPPLIER_NAME_EN:"ชื่อผู้ขาย (อังกฤษ) :",DESCRIPTION:"คำอธิบาย :",EMAIL:"อีเมล :",TEL_NO:"โทรศัพท์ :",FAX_NO:"โทรสาร :",MOBILE_NO:"มือถือ :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",SEARCH_SUPPLIER_CRITERIA_LABEL:"เงื่อนไขการค้นหาผู้ขาย",SUPPLIER_CODE_LABEL:"รหัสผู้ขาย :",SUPPLIER_NAME_LABEL:"ชื่อผู้ขาย :",DESCRIPTION_LABEL:"คำอธิบาย :",EMAIL_LABEL:"อีเมล :",TEL_NO_LABEL:"โทรศัพท์ :",FAX_NO_LABEL:"โทรสาร :",MOBILE_NO_LABEL:"มือถือ :"},APP_USER:{TAB:"User",USERNAME:"รหัสผู้ใช้",PASSWORD:"รหัสผ่าน้",FIRSTNAME:"ชื่อ",LASTNAME:"นามสกุล",EMAIL:"อีเมล",USER_TYPE:"ชนิดผู้ใช้",ROLE:"บทบาท",TERMINAL:"ช่องทาง",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",SEARCH_APP_USER_CRITERIA_LABEL:"เงื่อนไขการค้นหาผู้ใช้ระบบ",USERNAME_LABEL:"ผู้ใช้ระบบ :",NAME_LABEL:"ชื่อ :",TERMINAL_LABEL:"ช่องทาง :",ROLE_LABEL:"บทบาท :"}},ACCOUNT:{BUTTON:{CANCEL:"Cancel",SAVE:"Save"},HEADER:"Account Detail",FIRST_NAME:"Firstname",LAST_NAME:"Lastname",EMAIL:"Email",USERNAME:"Username",PASSWORD:"Password",PROFILE_IMAGE:"Profile Image",DROP_FILE:"Drop File",DROP_IMAGE_PDF:"Drop File or PDF file here",IMAGE_THUMBNAIL:"Image Thumbnail"},HISTORY:{BUTTON:{SEARCH:"Search"},HEAD:"Purchase History",FROM:"From :",TO:"To :",PAYMENT_STATUS:"Payment Status :",SHIPPING_STATUS:"Shipping Status :",PAYMENT:{OWED:"ค้างชำระ",PAID:"ชำระแล้ว"},SHIPPING:{NOT_SHIPPING:"ยังไม่ได้ส่งสินค้า",SHIPPING:"ส่งสินค้าแล้ว"}},CUSTOMER_ORDER:{BUTTON:{SEARCH:"Search"},HEAD:"Customer Order",RO_NO:"RO No :",RO_NO_PLACEHOLDER:"RO No",CUSTOMER:"Customer :",CUSTOMER_PLACEHOLDER:"Customer",FROM:"Start Date :",FROM_PLACEHOLDER:"Start Date",TO:"End Date :",TO_PLACEHOLDER:"End Date",PAYMENT:"Payment :",PAYMENT_PLACEHOLDER:"Status",SHIPPING:"Shipping :",SHIPPING_PLACEHOLDER:"สถานะการส่งสินค้า",PAYMENT:{OWED:"Owed",PAID:"Paid"},SHIPPING:{NOT_SHIPPING:"No Shipping",SHIPPING:"Shipping"}},VIEW_RO_MODAL:{DATE:"Date :",RO_NO:" RO No :",RO_LABEL:"Receipt",IMAGE_PAYMENT_DOCUMENT:"Payment Document",UPLOAD_BUTTON:"Upload Payment Document",APPROVE_BUTTON:"Approve",REJECT_BUTTON:"Reject"}}},FOOTER:{TYRE:{HEAD:"Inner - Outer Tyre",REMARK:"The great and general quality of tyre with top brand."},LUBRICANR:{HEAD:"Lubricant",REMARK:"น้ำมันหล่อลื่น"},BATTERY:{HEAD:"Motorcycle -Car Battery",REMARK:""},BRAKE:{HEAD:"Brake System",REMARK:""},SHOCK:{HEAD:"Shock Absorber",REMARK:""},WRENCH:{HEAD:"Tools",REMARK:""}}}),a.translations("cn",{TITLE:"興 順 許 - 實施方案 摩托车配件 橡膠 和 润滑剂",TITLE:{NAME:"興 順 許 - 實施方案 摩托车配件 橡膠 和 润滑剂",DESCRIPTION:""},MESSAGE:{TYPE_SUCCESS:"success",TYPE_WARNING:"warning",TYPE_ERROR:"error",TITLE_SUCCESS:"成功",TITLE_WARNING:"警告",TITLE_ERROR:"錯誤",HEAD:{},CONTENT:{UPDATE_CART_BUY_QTY:"必須輸入量為數字或大於0"}},HEAD:{MENU:{SEARCH:{PLACEHOLDER:"鍵入搜索，然後按 ENTER"},PRODUCT:"貨物",WEBBOARD:"座談會",PAYMENT:"付款",DELIVERY:"交貨",PAYMENT_N_DELIVERY:"付款 & 交貨",DEFINITION:"條款",ABOUT:"關於我們",CONTACT:"聯繫我們",CUSTOMER:"客戶下單",ACCOUNT:"賬戶設置",HISTORY:"購買歷史",GENERAL:"一般設置",LOGOUT:"註銷"},SIGNIN:"登錄",SIGNOUT:"登出",MODAL_SIGNIN:{HEAD:"登入/簽字",TAB_SIGNIN:"登入",LABEL_USERNAME:"用户名",LABEL_PASSWORD:"密码",TAB_SIGNUP:"报名",BUTTON_SIGNIN:"登錄",FORGET_PASSWORD:"忘記密碼",REMEMBER_ME:"記住我",REMEMBER_ME_REASON:"(如果這是一個私人的電腦)",FACEBOOK_SIGNIN:"通過 Facebook 登錄",TWITTER_SIGNIN:"通過 Twitter 登錄",GOOGLE_PLUS_SIGNIN:"通過 Google+ 登錄",LINKEDIN_SIGNIN:"通過 Linkedin 登錄",INSTAGRAM_SIGNIN:"通過 Instagram 登錄",GITHUB_SIGNIN:"通過 Github 登錄",DROPBOX_SIGNIN:"通過 Dropbox 登錄",FOURSQUARE_SIGNIN:"通過 Foursquare 登錄",SOUNDCLOUD_SIGNIN:"通過 Soundcloud 登錄",FIRST_NAME:"名字",LAST_NAME:"姓",EMAIL:"電子郵件",USERNAME:"用戶名",PASSWORD:"密碼",STRENGTH:"密碼強度",RECAPTCHA:"驗證碼",BUTTON_SIGNUP:"簽字",TERM_SERVICE_LABEL:"我同意",TERM_SERVICE:"服務期限"},CART:"大車",MODAL_CART:{EMPTY_CART:"空購物車",PRODUCT_CART:"在購物車的產品",SEQ:"序列",ITEM_NAME:"名單",QTY:"號碼",UOM:"單元",PRICE:"價格",DISCOUNT:"折扣",AMOUNT:"總",REMOVE:"刪除",SUMAMT:"量總和",SUMDISCAMT:"總之折扣金額",SUMVATAMT:"總之增值稅金額",NETAMT:"淨額",SHOP_BUTTON:"繼續購物",SAVE_BUTTON:"救車",CLEAR_BUTTON:"清空購物車",CHECKOUT_BUTTON:"繼續"},MODAL_FORGET_PASSWORD:{TITLE:"忘記密碼 ?",TEXT:"您可以在這裡重置您的密碼.",EMAIL_PHD:"電子郵件",SEND_EMAIL_BUTTON:"給我發電子郵件"},WELCOME:"歡迎"},BODY:{NAV:{},SECTION:{PRODUCT:{QTY:"音量",PRICE:"價格",LIKE:"如",BUY:"購買",DETAIL:"細節",LABEL_NEW:"新",LABEL_HOT:"熱",LABEL_SALE:"賣"},WEBBOARD:{HEAD:"客服中心"},PAYMENT:{HEAD:"付款",BBL_ACC:"帳號 : 440-99934-3454",KBANK_ACC:"帳號 : 440-99934-3454",SCB_ACC:"帳號 : 440-99934-3454",KTB_ACC:"帳號 : 440-99934-3454",KCC_ACC:"ห帳號 : 440-99934-3454"},ABOUT:{HEAD:"關於我們"},CONTACT:{HEAD:"聯繫我們"},GOOGLE_MAP:{HEAD:"裝船",ADDRESS1:"30-32 隊. 2 Thepnimit 路 ",ADDRESS2:"",SUBDISTRICT:"Rangang",DISTRICT:"Srikhoraphum",PROVINCE:"Surin",TEL_NO:"044-561125",EMAIL:"kzh.parts@gmail.com"},THAI_POST:{HEAD:"職位"},SHIPMENT:{HEAD:"裝船",BILLING:{STEP:"帳單地址",BILL_STEP:"帳單地址",BILL_NAME:"名稱",BILL_EMAIL:"電子郵件",BILL_ADDRESS:"地址",BILL_PROVINCE:"省",BILL_SELECT_PROVINCE:"--- 選擇 省 ---",BILL_DISTRICT:"區",BILL_SELECT_DISTRICT:"--- 選擇 區 ---",BILL_SUBDISTRICT:"分地區",BILL_SELECT_SUBDISTRICT:"--- 選擇 分地區 ---",BILL_ZIPCODE:"郵政編碼",BILL_SELECT_ZIPCODE:"--- 選擇 郵政編碼 ---",TEL_NO:"電話號碼",MOBILE_NO:"手機號碼",SAME_ADDRESS:"與付款地址相同",RO_STEP:"收貨地址",RO_NAME:"名稱",RO_ADDRESS:"地址",RO_PROVINCE:"省",RO_SELECT_PROVINCE:"--- 選擇 省 ---",RO_DISTRICT:"區",RO_SELECT_DISTRICT:"--- 選擇 區 ---",RO_SUBDISTRICT:"分地區",RO_SELECT_SUBDISTRICT:"--- 選擇 分地區 ---",RO_ZIPCODE:"郵政編碼",RO_SELECT_ZIPCODE:"--- 選擇 郵政編碼 ---",BUTTON_NEXT:"下一步"},PAYMENT:{STEP:"付款",PAYMENT_TYPE:"支付方式",SELECT_PAYMENT_TYPE:"--- 選擇 支付方式 ---",TRANSFER:"轉讓",ACCOUNT_NAME:"Panya Boonyakulsrirung",ACCOUNT_TYPE:"Saving",ACCOUNT_BANK_BBL:"Bangkok Bank",ACCOUNT_NO_BBL:"-",ACCOUNT_BANK_KBANK:"Kasikorn Bank",ACCOUNT_NO_KBANK:"-",ACCOUNT_BANK_SCB:"Siam Commercial Bank",ACCOUNT_NO_SCB:"-",ACCOUNT_BANK_KTB:"Krungthai Bank",ACCOUNT_NO_KTB:"-",ACCOUNT_BANK_KCC:"Krungsri Bank",ACCOUNT_NO_KCC:"-",ACCOUNT_BANK_TMB:"TMB Bank",ACCOUNT_NO_TMB:"-",ACCOUNT_BANK_UOB:"UOB Bank",ACCOUNT_NO_UOB:"-",CREDIT:"信用卡",BUTTON_NEXT:"下一步"},FINISH:{STEP:"結束",BUTTON_SUCCESS:"成功"}},SETTING:{HEAD:"地點",BUTTON:{NEW:"新",SAVE:"保存",DELETE:"刪除",CANCEL:"取消",SEARCH:"搜索"},PRODUCT_TYPE:{TAB:"產品類型",PRODUCT_TYPE_CODE:"產品類型代碼",PRODUCT_TYPE_NAME_TH:"產品型號名稱 (泰國)",PRODUCT_TYPE_NAME_EN:"產品型號名稱 (英語)",PRODUCT_TYPE_NAME_CN:"產品型號名稱 (中國)"},PRODUCT_CATEGORY:{TAB:"產品分類",PRODUCT_CATEGORY_CODE:"產品類別代碼",PRODUCT_CATEGORY_NAME_TH:"產品類別名稱 (泰國)",PRODUCT_CATEGORY_NAME_EN:"產品類別名稱 (英語)",PRODUCT_CATEGORY_NAME_CN:"產品類別名稱 (中國)",PRODUCT_TYPE:"產品類型"},PRODUCT:{TAB:"產品",PRODUCT_CODE:"產品代碼",PRODUCT_NAME_TH:"產品名稱 (泰國)",PRODUCT_NAME_EN:"產品名稱 (英語)",PRODUCT_NAME_CN:"產品名稱 (中國)",PRODUCT_CATEGORY:"產品分類",COST_PRICE:"成本價",RETAIL_PRICE:"零售價",WHOLESALE_PRICE:"批發價",UOM:"單元",CONTAIN_UOM:"包裝單位",CONTAIN_QUANTITY:"號/包裝",CONTAIN_COST_PRICE:"成本控制",CONTAIN_WHOLESALE_PRICE:"批發包裝",IS_HOT:"熱 ?!!",IMAGE:"圖片",IMAGE_THUMBNAIL:"圖片縮略圖"},PROMOTION:{TAB:"提升",SEARCH_PROMOTION_CRITERIA_LABEL:"搜索推廣標準",PROMOTION_CODE:"促銷代碼",PROMOTION_NAME_TH:"促銷名稱 (泰國)",PROMOTION_NAME_EN:"促銷名稱 (英語)",PROMOTION_NAME_CN:"促銷名稱 (中國)",IS_ACTIVE:"活躍 ?",IS_EXPIRE:"到期 ?",START_DATE:"開始日期 :",END_DATE:"結束日期 :",DISCOUNT_PERCENT:"折扣 % :",PROMOTION_CODE_LABEL:"促銷代碼 :",PROMOTION_NAME_TH_LABEL:"促銷名稱 (泰國) :",PROMOTION_NAME_EN_LABEL:"促銷名稱 (英語) :",PROMOTION_NAME_CN_LABEL:"促銷名稱 (中國) :",IS_ACTIVE_LABEL:"活躍? :",START_DATE_LABEL:"開始日期 :",END_DATE_LABEL:"結束日期 :",SEARCH_PRODUCT:"搜索產品",ADD_PRODUCT_BUTTON:"添加產品"},CUSTOMER_TYPE:{TAB:"客戶類型",CUSTOMER_TYPE_CODE:"客戶代碼類型",CUSTOMER_TYPE_NAME_TH:"客戶名稱 (泰國)",CUSTOMER_TYPE_NAME_EN:"客戶名稱 (英語)"},CUSTOMER:{TAB:"客戶",CUSTOMER_CODE:"客戶代碼",FIRST_NAME:"名字",LAST_NAME:"姓",KNOWN_NAME:"綽號",TEL_NO:"電話號碼",FAX_NO:"傳真號",MOBILE_NO:"手機號",EMAIL:"電子郵件",DESCRIPTION:"描述"},STAFF:{TAB:"員工",STAFF_CODE:"員工代碼",FIRST_NAME:"名字",LAST_NAME:"姓",NICK_NAME:"暱稱",AGE:"年齡",SEX:"性別"},ROLE:{TAB:"角色",ROLE_CODE:"角色代碼",ROLE_NAME_TH:"角色名 (泰國)",ROLE_NAME_EN:"角色名 (英語)"},RECEIPT_ORDER:{TAB:"採購訂單",RO_NO:"訂單代碼",RO_DATE:"收到訂單日期",RO_TIME:"收到訂單時間"},SUPPLIER:{TAB:"供應商",SUPPLIER_CODE:"รหัสผู้ขาย :",SUPPLIER_NAME_TH:"ชื่อผู้ขาย (ไทย) :",SUPPLIER_NAME_EN:"ชื่อผู้ขาย (อังกฤษ) :",DESCRIPTION:"คำอธิบาย :",EMAIL:"อีเมล :",TEL_NO:"โทรศัพท์ :",FAX_NO:"โทรสาร :",MOBILE_NO:"มือถือ :",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",SEARCH_SUPPLIER_CRITERIA_LABEL:"เงื่อนไขการค้นหาผู้ขาย",SUPPLIER_CODE_LABEL:"รหัสผู้ขาย :",SUPPLIER_NAME_LABEL:"ชื่อผู้ขาย :",DESCRIPTION_LABEL:"คำอธิบาย :",EMAIL_LABEL:"อีเมล :",TEL_NO_LABEL:"โทรศัพท์ :",FAX_NO_LABEL:"โทรสาร :",MOBILE_NO_LABEL:"มือถือ :"},APP_USER:{TAB:"用戶",USERNAME:"รหัสผู้ใช้",PASSWORD:"รหัสผ่าน้",FIRSTNAME:"ชื่อ",LASTNAME:"นามสกุล",EMAIL:"อีเมล",USER_TYPE:"ชนิดผู้ใช้",ROLE:"บทบาท",TERMINAL:"ช่องทาง",CREATE_BY:"สร้างโดย :",CREATE_DATE:"วันที่สร้าง :",UPDATE_BY:"อัพเดทโดย :",UPDATE_DATE:"วันที่อัพเดท :",SEARCH_APP_USER_CRITERIA_LABEL:"เงื่อนไขการค้นหาผู้ใช้ระบบ",USERNAME_LABEL:"ผู้ใช้ระบบ :",NAME_LABEL:"ชื่อ :",TERMINAL_LABEL:"ช่องทาง :",ROLE_LABEL:"บทบาท :"}},ACCOUNT:{HEAD:"帳戶資料",BUTTON:{CANCEL:"取消",SAVE:"保存"},FIRST_NAME:"名字",LAST_NAME:"姓",EMAIL:"電子郵件",USERNAME:"用戶名",PASSWORD:"密碼",PROFILE_IMAGE:"資料圖片",DROP_FILE:"拖放文件",DROP_IMAGE_PDF:"拖放文件或 PDF 文件在這裡",IMAGE_THUMBNAIL:"圖片縮略圖"},HISTORY:{HEAD:"購買記錄",BUTTON:{SEARCH:"搜索"},FROM:"從 :",TO:"至 :",PAYMENT_STATUS:"付款狀態 :",SHIPPING_STATUS:"發貨狀態 :",PAYMENT:{OWED:"拖欠",PAID:"付費"},SHIPPING:{NOT_SHIPPING:"沒有運輸",SHIPPING:"送貨"}},CUSTOMER_ORDER:{BUTTON:{SEARCH:"搜索"},HEAD:"客戶訂單",RO_NO:"收據編號 :",RO_NO_PLACEHOLDER:"收據編號",CUSTOMER:"客 :",CUSTOMER_PLACEHOLDER:"客",FROM:"開始日期 :",FROM_PLACEHOLDER:"開始日期",TO:"結束日期 :",TO_PLACEHOLDER:"結束日期",PAYMENT:"付款 :",PAYMENT_PLACEHOLDER:"付款",SHIPPING:"航運 :",SHIPPING_PLACEHOLDER:"航運",PAYMENT:{OWED:"拖欠",PAID:"付費"},SHIPPING:{NOT_SHIPPING:"沒有運輸",SHIPPING:"送貨"}},VIEW_RO_MODAL:{DATE:"日期 :",RO_NO:"發票號 :",RO_LABEL:"收據",IMAGE_PAYMENT_DOCUMENT:"付款單據",UPLOAD_BUTTON:"上傳付款單據",APPROVE_BUTTON:"批准",REJECT_BUTTON:"拒絕"}}},FOOTER:{TYRE:{HEAD:"內 - 外 輪胎",REMARK:"ด้วยยางเกรดคุณภาพ และทั่วไป"},LUBRICANT:{HEAD:"潤滑劑",REMARK:"น้ำมันหล่อลื่นคุณภาพดี ซึ่งมีจำหน่ายหลากหลายยี่ห้อ"},BATTERY:{HEAD:"摩托車 - 汽車 電池",REMARK:""},BRAKE:{HEAD:"制動系統",REMARK:"ทำให้เชื่อมั่นในการขับขี่ยานพาหนะ ไม่ว่าสถานการณ์ไหน"},SHOCK:{HEAD:"減震器",REMARK:"ช่วงล่างที่แน่นรู้สึกสบายและมั่นใจในยามขับขี่"},WRENCH:{HEAD:"工具",REMARK:""},COPY_RIGHT:"",CONTACT_US:""}}),a.preferredLanguage("th")}),app.run(function(a){a.$on("handleHeadMenuEmit",function(b,c){a.$broadcast("handleHeadMenuBroadcast",c)}),a.$on("handleBodyMenuEmit",function(b,c){a.$broadcast("handleBodyMenuBroadcast",c)}),a.$on("handleCurrencyEmit",function(b,c){a.$broadcast("handleCurrencyBroadcast",c)}),a.$on("handleReceiptOrderEmit",function(b,c){a.$broadcast("handleReceiptOrderBroadcast",c)}),a.$on("handleLocaleEmit",function(b,c){a.$broadcast("handleLocaleBroadcast",c)}),a.$on("handleUserEmit",function(b,c){
a.$broadcast("handleUserBroadcast",c)}),document.addEventListener("keyup",function(b){27===b.keyCode&&a.$broadcast("escapePressed",b.target)}),document.addEventListener("click",function(b){a.$broadcast("documentClicked",b.target)})}),app.controller("BodyController",function(a,b,c,d,e,f,g,h,i,d,j,k,l,m){function n(a){return a.ProductNameTh}function o(a){return console.log(a),a-0==a&&parseFloat(a)>0&&(""+a).trim().length>0}function p(){var a=[],b={Terminal:"Web"},c={Terminal:"Facebook"},d={Terminal:"Twitter"},e={Terminal:"Google+"},f={Terminal:"Instagram"},g={Terminal:"Linkedin"},h={Terminal:"Github"},i={Terminal:"Dropbox"},j={Terminal:"Foursquare"},k={Terminal:"Soundcloud"};return a.push(b),a.push(c),a.push(d),a.push(e),a.push(f),a.push(g),a.push(h),a.push(i),a.push(j),a.push(k),a}function q(a){return a.Firstname+"-"+a.Lastname}a.Product=[],a.ROHead={SumAmount:0,SumVatAmount:0,SumDiscountAmount:0,NetAmount:0,BillingName:"",BillingAddress:"",ProvinceId:"",DistrictId:"",SubDistrictId:"",ZipCode:""},a.User={Username:"",Password:"",Email:"",FirstName:"",LastName:"",IsActivate:!1},a.ROLineList=[],a.SelectedMenu="",a.SelectedCurrency="thb",a.CurrencySymbol="฿",a.Multiplier=1,a.SelectedLocale="th",a.ViewProductTypeData={CreateDate:new Date,UpdateDate:new Date},a.SearchProductTypeData={},a.ViewProductCategoryData={CreateDate:new Date,UpdateDate:new Date},a.SearchProductCategoryData={},a.ViewProductData={CreateDate:new Date,UpdateDate:new Date},a.SearchProductData={},a.ViewPromotionData={CreateDate:new Date,UpdateDate:new Date},a.SearchPromotionData={SearchStartDate:new Date,SearchEndDate:new Date},a.ViewCustomerData={CreateDate:new Date,UpdateDate:new Date},a.SearchCustomerData={},a.ViewCustomerTypeData={CreateDate:new Date,UpdateDate:new Date},a.SearchCustomerTypeData={},a.ViewSupplierData={CreateDate:new Date,UpdateDate:new Date},a.SearchSupplierData={},a.ViewStaffData={CreateDate:new Date,UpdateDate:new Date},a.SearchStaffData={},a.ViewAppUserData={CreateDate:new Date,UpdateDate:new Date},a.SearchAppUserData={},a.ViewRoleData={CreateDate:new Date,UpdateDate:new Date},a.SearchRoleData={},a.ViewUomData={CreateDate:new Date,UpdateDate:new Date},a.SearchUomData={},a.ViewReceiptData={},a.step=1,a.Provinces=[],a.Districts=[],a.SubDistricts=[],a.PaymentBank=!1,a.PaymentType="",a.$on("handleHeadMenuBroadcast",function(b,c){a.SelectedMenu=c.SelectedMenu,"history"==a.SelectedMenu?(a.StartDate=(new Date).getDate()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getFullYear(),a.EndDate=(new Date).getDate()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getFullYear(),a.SearchPaymentStatus="N",a.SearchShippingStatus="N"):"customer-order"==a.SelectedMenu?(a.SearchCustomerOrderStartDate=(new Date).getDate()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getFullYear(),a.SearchCustomerOrderEndDate=(new Date).getDate()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getFullYear(),a.SearchCustomerOrderPaymentStatus="N",a.SearchCustomerOrderShippingStatus="N",a.SearchCustomerRONo="",a.SearchCustomerName=""):"setting"==a.SelectedMenu?($("#ProductTypeTab").addClass("active"),a.SearchProductType()):"shipment"==a.SelectedMenu&&$("html, body").animate({scrollTop:$("#shipment-section").offset().top},"slow")}),a.$on("handleUserBroadcast",function(b,c){a.User=c.User,a.ViewAppUserData=c.User}),a.$on("handleCurrencyBroadcast",function(b,c){a.SelectedCurrency=c.SelectedCurrency,console.log("body ctrl from head $scope.SelectedCurrency "+a.SelectedCurrency),"thb"==a.SelectedCurrency?(a.CurrencySymbol="฿",a.Multiplier=1):"usd"==a.SelectedCurrency?(a.CurrencySymbol="$",a.Multiplier=c.MultiplierTHB2USD):"eur"==a.SelectedCurrency?(a.CurrencySymbol="€",a.Multiplier=c.MultiplierTHB2EUR):"gbp"==a.SelectedCurrency?(a.CurrencySymbol="£",a.Multiplier=c.MultiplierTHB2GBP):"cny"==a.SelectedCurrency&&(a.CurrencySymbol="¥",a.Multiplier=c.MultiplierTHB2CNY)}),a.$on("handleLocaleBroadcast",function(b,c){a.SelectedLocale=c.SelectedLocale,console.log("$scope.SelectedLocale "+a.SelectedLocale)}),a.SelectedBodyMenu=function(b){"google-map"==b?(j.Menu.SelectedMenu="google-map",a.SelectedMenu="google-map"):"thai-post"==b&&(j.Menu.SelectedMenu="thai-post",a.SelectedMenu="thai-post"),a.$emit("handleBodyMenuEmit",{SelectedMenu:b})},a.LoadProductType=function(){var b="http://localhost:3000/product_types/LoadProductType";i.get(b).success(function(b){a.ProductType=b}).error(function(){})},a.LoadProductCategory=function(){var b="http://localhost:3000/product_categories/LoadProductCategory";i.get(b).success(function(b){a.ProductCategory=b}).error(function(){})},a.LoadProduct=function(){var b="http://localhost:3000/products/LoadProduct";i.get(b).success(function(b){console.log(b),a.Product=b}).error(function(){})},a.AddCart=function(b,c,d){if(c>0){var e={Id:0,ProductCode:"",ProductNameTh:"",Quantity:0,Price:0,DiscountAmount:0,VatAmount:0,Amount:0};e.ProductCode=b.ProductCode,e.ProductNameTh=b.ProductNameTh,e.Quantity=c,e.Price=b.RetailPrice,e.DiscountAmount=0,e.Amount=e.Price*c-e.DiscountAmount,e.VatAmount=.07*e.Amount,console.log("SelectedProduct.Uom "+b.Uom),e.Uoms=b.Uom,e.UomCode=b.UomCode,e.DrRetailPrice=b.RetailPrice,e.DrCostPrice=b.CostPrice,e.DrWholesalePrice=b.WholesalePrice,e.DrSpecialPrice=b.SpecialPrice,e.DrContainCostPrice=b.ContainCostPrice,e.DrContainWholesalePrice=b.ContainWholesalePrice,e.DrContainSpecialPrice=b.ContainSpecialPrice,e.DrUomCode=b.UomCode,e.DrContainUomCode=b.ContainUomCode,console.log("ROLine.Uoms "+e.Uoms),console.log(e.Amount),a.ROHead.SumAmount+=e.Amount,a.ROHead.SumVatAmount+=e.VatAmount,a.ROHead.SumDiscountAmount+=e.DiscountAmount,a.ROHead.NetAmount=a.ROHead.SumAmount+a.ROHead.SumVatAmount-a.ROHead.SumDiscountAmount,a.ROLineList.push(e),console.log(a.ROHead.SumAmount),k.ROHead.SumAmount=a.ROHead.SumAmount,k.ROHead.SumVatAmount=a.ROHead.SumVatAmount,k.ROHead.SumDiscountAmount=a.ROHead.SumDiscountAmount,k.ROHead.NetAmount=a.ROHead.NetAmount,k.ROHead.ROLineList.push(e),a.$emit("handleReceiptOrderEmit",{ROHead:k.ROHead}),swal({title:"สำเร็จ",text:"ใส่รายการ "+b.ProductNameTh+" จำนวน "+c+" ในตะกร้าสำเร็จ !!",type:"success",showCancelButton:!1,confirmButtonColor:"#5583dd",confirmButtonText:"OK",closeOnConfirm:!0},function(c){c?a.$apply(function(){var a=document.getElementById("ThumbnailProductImage_"+b.ProductCode),c=a.getElementsByTagName("img")[2];if(void 0!==c){var d=c.cloneNode(!0);d.setAttribute("width","50px"),d.setAttribute("height","50px"),$("#CartProduct_"+b.ProductCode).append(d)}}):swal("Cancelled","Your imaginary file is safe :)","error")})}else sweetAlert("เกิดข้อผิดพลาด","จำนวนต้องเป็นตัวเลข และ มากกว่า 0","warning")},a.AddImageToCart=function(){var a=document.getElementById("ThumbnailProductImage_"+SelectedProduct.ProductCode),b=a.getElementsByTagName("img")[2];console.log(a),console.log(b),$("#CartProduct_"+SelectedProduct.ProductCode).append(b)},a.LoadProductByProductCategoryCode=function(b){$("html, body").animate({scrollTop:$("#product-section").offset().top},"slow");var c="http://localhost:3000/products/LoadProductByProductCategoryCode/"+b;i.get(c).success(function(b){console.log(b),a.Product=b,a.SelectedMenu="product",a.$emit("handleBodyMenuEmit",{SelectedMenu:"product"})}).error(function(a){sweetAlert("Error !!","Cannot get Product data from Server..","error")})},a.SearchProductType=function(){var b="",c="";b=void 0===a.SearchProductTypeData.ProductTypeCode||a.SearchProductTypeData.ProductTypeCode.length<=0?"$":a.SearchProductTypeData.ProductTypeCode,c=void 0===a.SearchProductTypeData.ProductTypeName||a.SearchProductTypeData.ProductTypeName.length<=0?"$":a.SearchProductTypeData.ProductTypeName;var d="http://localhost:3000/product_types/LoadProductTypeByCondition/"+b+"/"+c;i.get(d).success(function(b){a.ProductTypeTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert("err  +"+a)}),$("#div-product-type-table").show("slow"),$("#div-product-type-detail").hide("slow")},a.NewProductType=function(){a.ViewProductTypeData={ProductTypeCode:"",ProductTypeNameEn:"",ProductTypeNameTh:"",ProductTypeNameCn:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-product-type-table").hide("slow"),$("#div-product-type-detail").show("slow")},a.ViewProductType=function(b){var c="http://localhost:3000/product_types/LoadProductTypeByObjId/"+b;i.get(c).success(function(b){console.log("success "+b._id+b.ProductTypeCode),a.ViewProductTypeData._id=b._id,a.ViewProductTypeData.ProductTypeCode=b.ProductTypeCode,a.ViewProductTypeData.ProductTypeNameTh=b.ProductTypeNameTh,a.ViewProductTypeData.ProductTypeNameEn=b.ProductTypeNameEn,a.ViewProductTypeData.ProductTypeNameCn=b.ProductTypeNameCn,isEmpty(b.CreateBy)?a.ViewProductTypeData.CreateBy=a.User.Username:a.ViewProductTypeData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewProductTypeData.CreateDate=new Date:a.ViewProductTypeData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewProductTypeData.UpdateBy=a.User.Username:a.ViewProductTypeData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewProductTypeData.UpdateDate=new Date:a.ViewProductTypeData.UpdateDate=b.UpdateDate}).error(function(a){console.log("err "+a)}),$("#div-product-type-table").hide("slow"),$("#div-product-type-detail").show("slow")},a.ConsiderDeleteProductType=function(b,c){"search"===b?a.DeleteProductType(c):"edit"===b&&a.DeleteProductType(a.ViewProductTypeData)},a.DeleteProductType=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการชนิดสินค้า "+b.ProductTypeCode+" !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete "+b.ProductTypeCode+" !",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/product_types/DeleteProductType/"+b._id;i.get(d).success(function(c){swal("Deleted!","ลบรายการชนิดสินค้า "+b.ProductTypeNameTh+" สำเร็จ !!!","success"),a.SearchProductType()}).error(function(a){})}else swal("Cancelled","Your product type is safe :)","error")})},a.CancelProductType=function(){a.SearchProductType(),$("#div-product-type-table").show("slow"),$("#div-product-type-detail").hide("slow")},a.$watch("ProductTypeCreateDate",function(b){a.ViewProductTypeData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewProductTypeData.CreateDate",function(b){a.ProductTypeCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ProductTypeUpdateDate",function(b){a.ViewProductTypeData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewProductTypeData.UpdateDate",function(b){a.ProductTypeUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.SaveProductType=function(){""==a.ViewProductTypeData._id||void 0==a.ViewProductTypeData._id?a.CreateProductType():""!=a.ViewProductTypeData._id&&a.UpdateProductType()},a.CreateProductType=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ ชนิดสินค้า "+a.ViewProductTypeData.ProductTypeNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create product type!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="",d=m.PATH+"/appconfig/GetNewCode/PT";i.get(d).success(function(b){c=b,console.log("get new code "+c),a.ViewProductTypeData.ProductTypeCode=c,a.ViewProductTypeData.CreateBy=a.User.Username,a.ViewProductTypeData.UpdateBy=a.User.Username;var d="http://localhost:3000/product_types/CreateProductType/";i.post(d,a.ViewProductTypeData).success(function(b){swal("Created !","สร้างรายการชนิดสินค้า "+a.ViewProductTypeData.ProductTypeCode+" สำเร็จ !!!","success"),a.SearchProductType()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your imaginary file is safe :)","error")})},a.UpdateProductType=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ ชนิดสินค้า "+a.ViewProductTypeData.ProductTypeNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update product type!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c=m.PATH+"/product_types/UpdateProductType/";a.ViewProductTypeData.UpdateBy=a.User.Username,i.post(c,a.ViewProductTypeData).success(function(b){swal("Updated !!!","แก้ไขรายการชนิดสินค้า "+b.ProductTypeCode+" สำเร็จ !!!","success"),a.SearchProductType()}).error(function(a){})}else swal("Cancelled","Your imaginary file is safe :)","error")})},a.SearchProductCategory=function(){var b="",c="",d="";console.log(a.SearchProductType),b=void 0===a.SearchProductCategoryData.ProductCategoryCode||a.SearchProductCategoryData.ProductCategoryCode.length<=0?"$":a.SearchProductCategoryData.ProductCategoryCode,c=void 0===a.SearchProductCategoryData.ProductCategoryName||a.SearchProductCategoryData.ProductCategoryName.length<=0?"$":a.SearchProductCategoryData.ProductCategoryName,d=void 0===a.SearchProductType||a.SearchProductType.length<=0?"$":a.SearchProductType;var f=m.PATH+"/product_categories/LoadProductCategoryByCondition/"+b+"/"+c+"/"+d;i.get(f).success(function(b){a.ProductCategoryTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),type_list_url=m.PATH+"/product_types/LoadProductType",i.get(type_list_url).success(function(b){console.log(b.length),a.SearchProductTypeList=b}).error(function(a){})}).error(function(a){}),$("#div-product-category-table").show("slow"),$("#div-product-category-detail").hide("slow")},a.NewProductCategory=function(){a.ViewProductCategoryData={ProductCategoryCode:"",ProductCategoryNameEn:"",ProductCategoryNameTh:"",ProductCategoryNameCn:"",ProductTypeCode:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date};var b=m.PATH+"/product_types/LoadProductType";i.get(b).success(function(b){a.SelectProductTypeList=b}).error(function(a){alert(a)}),$("#div-product-category-table").hide("slow"),$("#div-product-category-detail").show("slow")},a.ViewProductCategory=function(b){var c=m.PATH+"/product_categories/LoadProductCategoryByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewProductCategoryData=b,a.ViewProductCategoryData._id=b._id,a.ViewProductCategoryData.ProductCategoryCode=b.ProductCategoryCode,a.ViewProductCategoryData.ProductCategoryNameTh=b.ProductCategoryNameTh,a.ViewProductCategoryData.ProductCategoryNameEn=b.ProductCategoryNameEn,a.ViewProductCategoryData.ProductCategoryNameCn=b.ProductCategoryNameCn,a.ViewProductCategoryData.ProductTypeCode=b.ProductTypeCode,isEmpty(b.CreateBy)?a.ViewProductCategoryData.CreateBy=a.User.Username:a.ViewProductCategoryData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewProductCategoryData.CreateDate=new Date:a.ViewProductCategoryData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewProductCategoryData.UpdateBy=a.User.Username:a.ViewProductCategoryData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewProductCategoryData.UpdateDate=new Date:a.ViewProductCategoryData.UpdateDate=b.UpdateDate,console.log("data.ProductTypeCode "+b.ProductTypeCode);var c="http://localhost:3000/product_types/LoadProductType";i.get(c).success(function(c){a.SelectProductTypeList=c,a.SelectedProductType=b.ProductTypeCode}).error(function(a){})}).error(function(a){console.log(a)}),$("#div-product-category-table").hide("slow"),$("#div-product-category-detail").show("slow")},a.ConsiderDeleteProductCategory=function(b,c){"search"===b?a.DeleteProductCategory(c):"edit"===b&&a.DeleteProductCategory(a.ViewProductCategoryData)},a.DeleteProductCategory=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ ประเภทสินค้า "+b.ProductCategoryNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d=m.PATH+"/product_categories/DeleteProductCategory/"+b._id;i.get(d).success(function(c){swal("Deleted !!!","ลบรายการประเภทสินค้า "+b.ProductCategoryCode+" สำเร็จ !!!","success"),a.SearchProductCategory()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.$watch("ProductCategoryCreateDate",function(b){a.ViewProductCategoryData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewProductCategoryData.CreateDate",function(b){a.ProductCategoryCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ProductCategoryUpdateDate",function(b){a.ViewProductCategoryData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewProductCategoryData.UpdateDate",function(b){a.ProductCategoryUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateProductCategory=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ ประเภทสินค้า "+a.ViewProductCategoryData.ProductCategoryNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="",d=m.PATH+"/appconfig/GetNewCode/PC";i.get(d).success(function(b){c=b,console.log("get new code "+c),a.ViewProductCategoryData.ProductCategoryCode=c,a.ViewProductCategoryData.CreateBy=a.User.Username,a.ViewProductCategoryData.UpdateBy=a.User.Username;var d="http://localhost:3000/product_categories/CreateProductCategory/";i.post(d,a.ViewProductCategoryData).success(function(b){swal("Created !","สร้างรายการประเภทสินค้า "+a.ViewProductCategoryData.ProductCategoryCode+" สำเร็จ !!!","success"),a.SearchProductCategory()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdateProductCategory=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ ประเภทสินค้า "+a.ViewProductCategoryData.ProductCategoryNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update product category!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/product_categories/UpdateProductCategory/";a.ViewProductCategoryData.UpdateBy=a.User.Username,i.post(c,a.ViewProductCategoryData).success(function(b){swal("Updated !!!","แก้ไขรายการชนิดสินค้า "+a.ViewProductCategoryData.ProductCategoryCode+" สำเร็จ !!!","success"),a.SearchProductCategory()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SaveProductCategory=function(){""==a.ViewProductCategoryData._id||void 0==a.ViewProductCategoryData._id?a.CreateProductCategory():""!=a.ViewProductCategoryData._id&&a.UpdateProductCategory()},a.CancelProductCategory=function(){a.SearchProductCategory(),$("#div-product-category-table").show("slow"),$("#div-product-category-detail").hide("slow")},a.SearchProduct=function(){var b="",c="",d="";b=void 0===a.SearchProductData.ProductCode||a.SearchProductData.ProductCode.length<=0?"$":a.SearchProductData.ProductCode,c=void 0===a.SearchProductData.ProductName||a.SearchProductData.ProductName.length<=0?"$":a.SearchProductData.ProductName,d=void 0===a.SearchProductCategory||a.SearchProductCategory.length<=0?"$":a.SearchProductCategory;var f=m.PATH+"/products/LoadProductByCondition/"+b+"/"+c+"/"+d;i.get(f).success(function(b){a.SearchProducts=b,a.ProductTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),category_list_url=m.PATH+"/product_categories/LoadProductCategory",i.get(category_list_url).success(function(b){a.SearchProductCategoryList=b}).error(function(a){})}).error(function(a){}),$("#div-product-table").show("slow"),$("#div-product-detail").hide("slow")},a.NewProduct=function(){a.ViewProductData={ProductCode:"",ProductNameEn:"",ProductNameTh:"",ProductNameCn:"",ProductCategoryCode:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date};var b=m.PATH+"/product_categories/LoadProductCategory";i.get(b).success(function(b){a.SelectProductCategoryList=b}).error(function(a){});var c="http://localhost:3000/uoms/LoadNotContainUom";i.get(c).success(function(b){a.SelectUomList=b}).error(function(a){});var d="http://localhost:3000/uoms/LoadContainUom";i.get(d).success(function(b){a.SelectContainUomList=b}).error(function(a){}),$("#div-product-table").hide("slow"),$("#div-product-detail").show("slow")},a.ViewProduct=function(b){var c="http://localhost:3000/products/LoadProductByObjId/"+b;i.get(c).success(function(b){a.ViewProductData=b,a.ViewProductData._id=b._id,a.ViewProductData.ProductCode=b.ProductCode,a.ViewProductData.ProductNameTh=b.ProductNameTh,a.ViewProductData.ProductNameEn=b.ProductNameEn,a.ViewProductData.ProductNameCn=b.ProductNameCn,a.ViewProductData.ProductCategoryCode=b.ProductCategoryCode,a.ViewProductData.Quantity=b.Quantity,a.ViewProductData.CostPrice=b.CostPrice,a.ViewProductData.WholesalePrice=b.WholesalePrice,a.ViewProductData.RetailPrice=b.RetailPrice,a.ViewProductData.SpecialPrice=b.SpecialPrice,a.ViewProductData.ContainCostPrice=b.ContainCostPrice,a.ViewProductData.ContainWholesalePrice=b.ContainWholesalePrice,a.ViewProductData.ContainSpecialPrice=b.ContainSpecialPrice,a.ViewProductData.ContainQuantity=b.ContainQuantity,a.ViewProductData.ProductCategoryCode=b.ProductCategoryCode,a.ViewProductData.UomCode=b.UomCode,a.ViewProductData.ContainUomCode=b.ContainUomCode,isEmpty(b.CreateBy)?a.ViewProductData.CreateBy=a.User.Username:a.ViewProductData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewProductData.CreateDate=new Date:a.ViewProductData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewProductData.UpdateBy=a.User.Username:a.ViewProductData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewProductData.UpdateDate=new Date:a.ViewProductData.UpdateDate=b.UpdateDate;var c="http://localhost:3000/product_categories/LoadProductCategory";i.get(c).success(function(b){a.SelectProductCategoryList=b}).error(function(a){});var d="http://localhost:3000/uoms/LoadNotContainUom";i.get(d).success(function(b){a.SelectUomList=b}).error(function(a){});var e="http://localhost:3000/uoms/LoadContainUom";i.get(e).success(function(b){a.SelectContainUomList=b}).error(function(a){}),console.log(b)}).error(function(a){console.log(a)}),$("#div-product-table").hide("slow"),$("#div-product-detail").show("slow")},a.ConsiderDeleteProduct=function(b,c){"search"===b?a.DeleteProduct(c):"edit"===b&&a.DeleteProduct(a.ViewProductData)},a.DeleteProduct=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ สินค้า "+b.ProductNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/products/DeleteProduct/"+b._id;i.post(d,b).success(function(c){swal("Deleted !!!","ลบรายการสินค้า "+b.ProductNameTh+"สำเร็จ !!!","success"),a.SearchProduct()}).error(function(a){})}else swal("Cancelled","Your product data is safe :)","error")})},a.CancelProduct=function(){a.SearchProduct(),$("#div-product-table").show("slow"),$("#div-product-detail").hide("slow")},a.$watch("ProductCreateDate",function(b){a.ViewProductData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewProductData.CreateDate",function(b){a.ProductCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ProductUpdateDate",function(b){a.ViewProductData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewProductData.UpdateDate",function(b){a.ProductUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateProduct=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ สินค้า "+a.ViewProductData.ProductNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/appconfig/GetNewCode/PD";i.get(c).success(function(b){NewProductCode=b,console.log("get new code "+NewProductCode),a.ViewProductData.ProductCode=NewProductCode,a.ViewProductData.ProductCategoryCode=a.SelectProductCategoryList.ProductCategoryCode,a.ViewProductData.UomCode=a.SelectUomList.UomCode,a.ViewProductData.ContainUomCode=a.SelectContainUomList.UomCode,a.ViewProductData.CreateBy=a.User.Username,a.ViewProductData.UpdateBy=a.User.Username;var c="http://localhost:3000/products/CreateProduct/";i.post(c,a.ViewProductData).success(function(b){swal("Created !","สร้างรายการสินค้า "+a.ViewProductData.ProductCode+" สำเร็จ !!!","success"),a.SearchProduct()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdateProduct=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ สินค้า "+a.ViewProductData.ProductNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update product!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/products/UpdateProduct/";a.ViewProductData.ProductCategoryCode=a.SelectedProductCategory,a.ViewProductData.UomCode=a.SelectedUom,a.ViewProductData.ContainUomCode=a.SelectedContainUom,a.ViewProductData.UpdateBy=a.User.Username,i.post(c,a.ViewProductData).success(function(b){swal("Updated !!!","แก้ไขรายการสินค้า "+b.ProductCode+" สำเร็จ !!!","success"),a.SearchProduct()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SaveProduct=function(){""==a.ViewProductData._id||void 0==a.ViewProductData._id?a.CreateProduct():""!=a.ViewProductData._id&&a.UpdateProduct()},a.CheckPromotionIsExpire=function(a){return Date.parse(a)>new Date?!0:Date.parse(a)<=new Date?!1:void 0},a.SearchPromotion=function(){var b=m.PATH+"/promotions/LoadAllPromotion";i.get(b).success(function(b){a.SearchPromotions=b,a.PromotionTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-promotion-table").show("slow"),$("#div-promotion-detail").hide("slow")},a.SearchPromotionProduct=function(){var a=m.PATH+"/products/LoadProduct";$("#SelectProductPromotionList").select2({ajax:{dataType:"json",url:a,formatResult:n,processResults:function(a){return{results:$.map(a,function(a){return{id:a.ProductCode,text:a.ProductNameTh}})}}}})},a.NewPromotion=function(){a.ViewPromotionData={PromotionCode:"",PMDate:new Date,PromotionNameTh:"",PromotionNameEn:"",PromotionNameCn:"",StartDate:new Date,EndDate:new Date,IsActive:!1,CreateDate:new Date,UpdateDate:new Date,ProductPromotionList:[]},$("#div-promotion-table").hide("slow"),$("#div-promotion-detail").show("slow"),a.SearchPromotionProduct()},a.$watch("ViewPromotionData.PMDate",function(b){a.ViewPromotionData.PMDate=d("date")(b,"dd/MM/yyyy")}),a.$watch("ViewPromotionData.StartDate",function(b){a.ViewPromotionData.StartDate=d("date")(b,"dd/MM/yyyy")}),a.$watch("ViewPromotionData.EndDate",function(b){a.ViewPromotionData.EndDate=d("date")(b,"dd/MM/yyyy")}),a.$watch("SearchPromotionData.StartDate",function(b){a.SearchPromotionData.StartDate=d("date")(b,"dd/MM/yyyy")}),a.$watch("SearchPromotionData.EndDate",function(b){a.SearchPromotionData.EndDate=d("date")(b,"dd/MM/yyyy")}),a.$watch("ViewPromotionData.CreateDate",function(b){a.ViewPromotionData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewPromotionData.UpdateDate",function(b){a.ViewPromotionData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.AddProductPromotion=function(){if(o($("#AddDiscountPercent").val())){var b="http://localhost:3000/products/LoadProductByProductCode/"+$("#SelectProductPromotionList").val();i.get(b).success(function(b){var c=0;console.log(b),void 0!==a.ViewPromotionData.ProductPromotionList&&a.ViewPromotionData.ProductPromotionList.length>0&&(c=a.ViewPromotionData.ProductPromotionList.length),b.DiscountPercent=$("#AddDiscountPercent").val(),a.ViewPromotionData.ProductPromotionList.push(b),a.ProductPromotionTableParams=new e({page:1,count:10},{total:a.ViewPromotionData.ProductPromotionList.length,getData:function(b,c){b.resolve(a.ViewPromotionData.ProductPromotionList.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),$("#SelectProductPromotionList").val(""),$("#AddProductDiscount").val("")}).error(function(a){console.log(a)})}else swal("เกิดข้อผิดพลาด !!!","ต้องใส่จำนวนส่วนลด หรือ ส่วนลดต้องเป็นตัวเลข และมากกว่า 0","warning")},a.ViewPromotion=function(b){var c="http://localhost:3000/promotions/LoadPromotionByObjId/"+b;i.get(c).success(function(b){a.ViewPromotionData=b,a.ViewPromotionData._id=b._id,a.ViewPromotionData.ProductCode=b.ProductCode,a.ViewPromotionData.StartDate=b.StartDate,a.ViewPromotionData.EndDate=b.EndDate,a.ViewPromotionData.DiscountPercent=b.DiscountPercent,a.ViewPromotionData.IsActive=b.IsActive,a.ViewPromotionData.ProductPromotionList=b.ProductPromotionList,a.ProductPromotionTableParams=new e({page:1,count:10},{total:b.ProductPromotionList.length,getData:function(a,c){a.resolve(b.ProductPromotionList.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){console.log(a)}),a.SearchPromotionProduct(),$("#div-promotion-table").hide("slow"),$("#div-promotion-detail").show("slow")},a.ConsiderDeletePromotion=function(b,c){"search"===b?a.DeletePromotion(c):"edit"===b&&a.DeletePromotion(a.ViewPromotionData)},a.DeletePromotion=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ โปรโมชั่น "+b.PromotionNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/promotions/DeletePromotion/";i.post(d,b).success(function(c){swal("Deleted !!!","ลบรายการโปรโมชั่น "+b.PromotionNameTh+"สำเร็จ !!!","success"),a.SearchPromotion()}).error(function(a){})}else swal("Cancelled","Your promotion data is safe :)","error")})},a.CancelPromotion=function(){a.SearchPromotion(),$("#div-promotion-table").show("slow"),$("#div-promotion-detail").hide("slow")},a.CreatePromotion=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ โปรโมชั่น "+a.ViewPromotionData.PromotionNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/appconfig/GetNewCode/PM";i.get(c).success(function(b){NewPromotionCode=b,console.log("get new code "+NewPromotionCode),a.ViewPromotionData.PromotionCode=NewPromotionCode,a.ViewPromotionData.CreateBy=a.User.Username,a.ViewPromotionData.UpdateBy=a.User.Username;var c="http://localhost:3000/promotions/CreatePromotion/";i.post(c,a.ViewPromotionData).success(function(b){swal("Created !","สร้างรายการ โปรโมชั่น "+a.ViewPromotionData.PromotionCode+" สำเร็จ !!!","success"),a.SearchPromotion()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdatePromotion=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ โปรโมชั่น "+a.ViewPromotionData.PromotionNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update promotion!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/promotions/UpdatePromotion/";a.ViewPromotionData.UpdateBy=a.User.Username,i.post(c,a.ViewPromotionData).success(function(b){swal("Updated !!!","แก้ไขรายการโปรโมชั่น "+b.PromotionCode+" สำเร็จ !!!","success"),a.SearchPromotion()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SavePromotion=function(){""==a.ViewPromotionData._id||void 0==a.ViewPromotionData._id?a.CreatePromotion():""!=a.ViewPromotionData._id&&a.UpdatePromotion()},a.upload=function(b){if(b&&b.length)for(var c=0;c<b.length;c++){
var d=b[c];console.log(d),f.upload({url:m.PATH+"/aws/uploadUserImage/"+a.User.Id+"/"+a.User.Username,file:d}).progress(function(a){var b=parseInt(100*a.loaded/a.total);console.log("progress: "+b+"% "+a.config.file.name)}).success(function(b,c,d,e){console.log("file "+e.file.name+"uploaded. Response: "+b);var f=m.PATH+"/aws/downloadUserImageProfile/"+a.User.Id+"/"+a.User.Username;i.get(f).success(function(b,c,d,e){a.User.ProfileImage=b;var f=$("#UserProfileImage").closest("div").find("img").first();f.remove(),$("#UserProfileImage").append(b)}).error(function(a,b,c,d){console.log(a)});var g=m.PATH+"/aws/downloadUserImageThumbnail/"+a.User.Id+"/"+a.User.Username;i.get(g).success(function(a,b,c,d){var e=$("#ThumbnailProfileImage").closest("div").find("img").first();e.remove(),$("#ThumbnailProfileImage").append(a)}).error(function(a,b,c,d){console.log(a)})}).error(function(a,b,c,d){console.log("error "+a+" status "+b)})}},a.uploadProductImage=function(a,b,c){if(console.log(" Product Id "+b+c),a&&a.length)for(var d=0;d<a.length;d++){var e=a[d];console.log(e),f.upload({url:m.PATH+"/aws/uploadProductImage/"+b+"/"+c+"/admin",file:e}).progress(function(a){var b=parseInt(100*a.loaded/a.total);console.log("progress: "+b+"% "+a.config.file.name)}).success(function(a,d,e,f){console.log("file "+f.file.name+"uploaded. Response: "+a);var g=m.PATH+"/aws/downloadProductImageThumbnail/"+b+"/"+c;i.get(g).success(function(a,b,c,d){$("#ThumbnailProductImage").children("img").remove(),$("#ThumbnailProductImage").append(a)}).error(function(a,b,c,d){console.log(a)})}).error(function(a,b,c,d){console.log("error "+a+" status "+b)})}},a.UploadPaymentDocument=function(b,c){if(b&&b.length)for(var d=0;d<b.length;d++){var e=b[d];console.log(e),f.upload({url:m.PATH+"/aws/uploadReceiptPayment/"+a.User.Id+"/"+a.User.Username+"/"+c,file:e}).progress(function(a){var b=parseInt(100*a.loaded/a.total);console.log("progress: "+b+"% "+a.config.file.name)}).success(function(b,d,e,f){var g=m.PATH+"/aws/downloadReceiptPaymentThumbnail/"+a.User.Id+"/"+a.User.Username+"/"+c;i.get(g).success(function(a,b,c,d){var e=$("#ThumbnailReceiptPayment").closest("div").find("img").first();e.remove(),$("#ThumbnailReceiptPayment").append(a)}).error(function(a,b,c,d){console.log(a)})}).error(function(a,b,c,d){console.log("error "+a+" status "+b)})}},a.SearchCustomerType=function(){var b="http://localhost:3000/customer_types/LoadCustomerType";i.get(b).success(function(b){a.CustomerTypeTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-customer-type-table").fadeIn(),$("#div-customer-type-detail").fadeOut()},a.NewCustomerType=function(){a.ViewCustomerTypeData={CustomerTypeCode:"",CustomerTypeNameTh:"",CustomerTypeNameEn:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-customer-type-table").fadeOut(),$("#div-customer-type-detail").fadeIn()},a.ViewCustomerType=function(b){var c="http://localhost:3000/customer_types/LoadCustomerTypeByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewCustomerTypeData=b,a.ViewCustomerTypeData.CustomerTypeCode=b.CustomerTypeCode,a.ViewCustomerTypeData.CustomerTypeNameEn=b.CustomerTypeNameEn,a.ViewCustomerTypeData.CustomerTypeNameTh=b.CustomerTypeNameTh,isEmpty(b.CreateBy)?a.ViewCustomerTypeData.CreateBy=a.User.Username:a.ViewCustomerTypeData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewCustomerTypeData.CreateDate=new Date:a.ViewCustomerTypeData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewCustomerTypeData.UpdateBy=a.User.Username:a.ViewCustomerTypeData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewCustomerTypeData.CreateDate=new Date:a.ViewCustomerTypeData.CreateDate=b.CreateDate}).error(function(a){console.log(a)}),$("#div-customer-type-table").fadeOut(),$("#div-customer-type-detail").fadeIn()},a.ConsiderDeleteCustomerType=function(b,c){"search"===b?a.DeleteCustomerType(c):"edit"===b&&a.DeleteCustomerType(a.ViewCustomerTypeData)},a.DeleteCustomerType=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ ชนิดลูกค้า "+b.CustomerTypeNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/customer_types/DeleteCustomerType/"+b._id;i.get(d).success(function(c){swal("Deleted !!!","ลบรายการชนิดลูกค้า "+b.CustomerTypeNameTh+"สำเร็จ !!!","success"),a.$apply(function(){a.SearchCustomerType()})}).error(function(a){})}else swal("Cancelled","Your customer type data is safe :)","error")})},a.CancelCustomerType=function(){a.SearchCustomerType(),$("#div-customer-type-table").fadeIn("slow"),$("#div-customer-type-detail").fadeOut("slow")},a.$watch("CustomerTypeCreateDate",function(b){a.ViewCustomerTypeData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewCustomerTypeData.CreateDate",function(b){a.CustomerTypeCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("CustomerTypeUpdateDate",function(b){a.ViewCustomerTypeData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewCustomerTypeData.UpdateDate",function(b){a.CustomerTypeUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateCustomerType=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ ชนิดลูกค้า "+a.ViewCustomerTypeData.CustomerTypeNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create Customer Type!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/appconfig/GetNewCode/CT";i.get(c).success(function(b){NewCustomerTypeCode=b,console.log("get new code "+NewCustomerTypeCode),a.ViewCustomerTypeData.CustomerTypeCode=NewCustomerTypeCode,a.ViewCustomerTypeData.CreateBy=a.User.Username,a.ViewCustomerTypeData.UpdateBy=a.User.Username;var c="http://localhost:3000/customer_types/CreateCustomerType/";i.post(c,a.ViewCustomerTypeData).success(function(b){swal("Created !","สร้างรายการชนิดลูกค้า "+a.ViewCustomerTypeData.CustomerTypeNameTh+" สำเร็จ !!!","success"),a.SearchCustomerType()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdateCustomerType=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ ชนิดลูกค้า "+a.ViewCustomerTypeData.CustomerTypeNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/customer_types/UpdateCustomerType/";a.ViewCustomerTypeData.UpdateBy=a.User.Username,i.post(c,a.ViewCustomerTypeData).success(function(b){swal("Updated !!!","แก้ไขรายการชนิดลูกค้า "+b.CustomerTypeCode+" สำเร็จ !!!","success"),a.SearchCustomerType()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SaveCustomerType=function(){""==a.ViewCustomerTypeData._id||void 0==a.ViewCustomerTypeData._id?a.CreateCustomerType():""!=a.ViewCustomerTypeData._id&&a.UpdateCustomerType()},a.SearchCustomer=function(){var b="http://localhost:3000/customers/LoadCustomer";i.get(b).success(function(c){a.CustomerTableParams=new e({page:1,count:10},{total:c.length,getData:function(a,b){a.resolve(c.slice((b.page()-1)*b.count(),b.page()*b.count()))}}),type_url=m.PATH+"/customer_types/LoadCustomerType",i.get(b).success(function(b){a.SearchCustomerTypeList=b}).error(function(a){})}).error(function(a){alert(a)}),$("#div-customer-table").fadeIn(),$("#div-customer-detail").fadeOut()},a.NewCustomer=function(){a.ViewCustomerData={_id:"",CustomerCode:"",CustomerNameEn:"",CustomerNameTh:"",CustomerKnownName:"",CustomerAddress:"",TelNo:"",FaxNo:"",MobileNo:"",Email:"",Description:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date};var b="http://localhost:3000/customer_types/LoadCustomerType";i.get(b).success(function(b){a.SelectCustomerTypeList=b}).error(function(a){}),$("#div-customer-table").fadeOut(),$("#div-customer-detail").fadeIn()},a.ViewCustomer=function(b){var c="http://localhost:3000/customers/LoadCustomerByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewCustomerData=b,a.ViewCustomerData.CustomerCode=b.CustomerCode,a.ViewCustomerData.Firstname=b.Firstname,a.ViewCustomerData.Lastname=b.Lastname,a.ViewCustomerData.CustomerKnownName=b.CustomerKnownName,a.ViewCustomerData.CustomerTypeCode=b.CustomerTypeCode,a.ViewCustomerData.MobileNo=b.MobileNo,a.ViewCustomerData.TelNo=b.TelNo,a.ViewCustomerData.FaxNo=b.FaxNo,a.ViewCustomerData.CustomerAddress=b.CustomerAddress,a.ViewCustomerData.Email=b.Email,a.ViewCustomerData.Description=b.Description,isEmpty(b.CreateBy)?a.ViewCustomerData.CreateBy=a.User.Username:a.ViewCustomerData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewCustomerData.CreateDate=new Date:a.ViewCustomerData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewCustomerData.UpdateBy=a.User.Username:a.ViewCustomerData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewCustomerData.CreateDate=new Date:a.ViewCustomerData.CreateDate=b.CreateDate}).error(function(a){console.log(a)}),$("#div-customer-table").fadeOut(),$("#div-customer-detail").fadeIn()},a.ConsiderDeleteCustomer=function(b,c){"search"===b?a.DeleteCustomer(c):"edit"===b&&a.DeleteCustomer(a.ViewCustomerData)},a.DeleteCustomer=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ ลูกค้าชื่อ "+b.CustomerNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/customers/DeleteCustomer/"+b._id;i.get(d).success(function(c){swal("Deleted !!!","ลบรายการลูกค้า "+b.CustomerNameTh+"สำเร็จ !!!","success"),a.SearchCustomer()}).error(function(a){})}else swal("Cancelled","Your customer data is safe :)","error")})},a.CancelCustomer=function(){a.SearchCustomer(),$("#div-customer-table").fadeIn(),$("#div-customer-detail").fadeOut()},a.$watch("CustomerCreateDate",function(b){a.ViewCustomerData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewCustomerData.CreateDate",function(b){a.CustomerCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("CustomerUpdateDate",function(b){a.ViewCustomerData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewCustomerData.UpdateDate",function(b){a.CustomerUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateCustomer=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ ลูกค้า "+a.ViewCustomerData.CustomerNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="",d="http://localhost:3000/appconfig/GetNewCode/CM";i.get(d).success(function(b){c=b,console.log("get new code "+c),a.ViewCustomerData.CustomerCode=c,a.ViewCustomerData.CreateBy=a.User.Username,a.ViewCustomerData.UpdateBy=a.User.Username;var d="http://localhost:3000/customers/CreateCustomer/";i.post(d,a.ViewCustomerData).success(function(b){swal("Created !","สร้างรายการลูกค้า "+a.ViewCustomerData.CustomerCode+" สำเร็จ !!!","success"),a.SearchCustomer()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your customer data is safe :)","error")})},a.UpdateCustomer=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ ลูกค้า "+a.ViewCustomerData.Firstname+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/customers/UpdateCustomer/";a.ViewCustomerData.UpdateBy=a.User.Username,i.post(c,a.ViewCustomerData).success(function(b){swal("Updated !!!","แก้ไขรายการลูกค้า "+b.CustomerCode+" สำเร็จ !!!","success"),a.SearchCustomer()}).error(function(a){})}else swal("Cancelled","Your customer data is safe :)","error")})},a.SaveCustomer=function(){""==a.ViewCustomerData._id||void 0==a.ViewCustomer._id?a.CreateCustomer():""!=a.ViewCustomerData._id&&a.UpdateCustomer()},a.SearchAppUser=function(){var b="http://localhost:3000/users/LoadAppUser";i.get(b).success(function(b){a.AppUserTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),a.SearchTerminalList=p();var c="http://localhost:3000/roles/LoadRole";i.get(c).success(function(b){a.SearchRoleList=b}).error(function(a){console.log("cannot load role")})}).error(function(a){alert(a)}),$("#div-user-table").fadeIn(),$("#div-user-detail").fadeOut()},a.NewAppUser=function(){a.ViewAppUserData={_id:"",Username:"",Password:"",Firstname:"",Lastname:"",UserType:"",TelNo:"",FaxNo:"",MobileNo:"",Email:"",Terminal:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-user-table").fadeOut(),$("#div-user-detail").fadeIn()},a.ViewAppUser=function(b){var c="http://localhost:3000/users/LoadAppUserByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewAppUserData=b,a.ViewAppUserData.Username=b.Username,a.ViewAppUserData.Password=b.Password,a.ViewAppUserData.Firstname=b.Firstname,a.ViewAppUserData.Lastname=b.Lastname,a.ViewAppUserData.UserType=b.UserType,a.ViewAppUserData.MobileNo=b.MobileNo,a.ViewAppUserData.TelNo=b.TelNo,a.ViewAppUserData.FaxNo=b.FaxNo,a.ViewAppUserData.Terminal=b.Terminal,a.ViewAppUserData.Email=b.Email,a.ViewAppUserData.Role=b.Role,isEmpty(b.CreateBy)?a.ViewAppUserData.CreateBy=a.User.Username:a.ViewAppUserData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewAppUserData.CreateDate=new Date:a.ViewAppUserData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewAppUserData.UpdateBy=a.User.Username:a.ViewAppUserData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewAppUserData.CreateDate=new Date:a.ViewAppUserData.CreateDate=b.CreateDate}).error(function(a){console.log(a)}),$("#div-user-table").fadeOut(),$("#div-user-detail").fadeIn()},a.ConsiderDeleteAppUser=function(b,c){"search"===b?a.DeleteAppUser(c):"edit"===b&&a.DeleteAppUser(a.ViewAppUserData)},a.DeleteAppUser=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ ผู้ใช้ระบบชื่อ "+b.Username+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/users/DeleteAppUser/";i.post(d,b).success(function(c){swal("Deleted !!!","ลบรายการผู้ใช้ระบบ "+b.Username+"สำเร็จ !!!","success"),a.SearchCustomer()}).error(function(a){})}else swal("Cancelled","Your app user data is safe :)","error")})},a.CancelAppUser=function(){a.SearchCustomer(),$("#div-user-table").fadeIn(),$("#div-user-detail").fadeOut()},a.$watch("AppUserCreateDate",function(b){a.ViewAppUserData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewAppUserData.CreateDate",function(b){a.AppUserCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("AppUserUpdateDate",function(b){a.ViewAppUserData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewAppUserData.UpdateDate",function(b){a.AppUserUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateAppUser=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ ลูกค้า "+a.ViewAppUserData.CustomerNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/users/CreateAppUser/";a.ViewAppUserData.CreateBy=a.User.Username,a.ViewAppUserData.UpdateBy=a.User.Username,i.post(c,a.ViewAppUserData).success(function(b){swal("Created !","สร้างรายการผู้ใช้ระบบ "+a.ViewAppUserData.Username+" สำเร็จ !!!","success"),a.SearchAppUser()}).error(function(a){})}else swal("Cancelled","Your customer data is safe :)","error")})},a.UpdateAppUser=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ ผู้ใช้ระบบ "+a.ViewAppUserData.Firstname+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/users/UpdateAppUser/";a.ViewAppUserData.UpdateBy=a.User.Username,i.post(c,a.ViewAppUserData).success(function(b){swal("Updated !!!","แก้ไขรายการผู้ใช้ระบบ "+b.CustomerCode+" สำเร็จ !!!","success"),a.SearchCustomer()}).error(function(a){})}else swal("Cancelled","Your app user data is safe :)","error")})},a.SaveAppUser=function(){""==a.ViewAppUserData._id||void 0==a.ViewAppUser._id?a.CreateAppUser():""!=a.ViewAppUserData._id&&a.UpdateAppUser()},a.SearchSupplier=function(){var b="http://localhost:3000/suppliers/LoadSupplier";i.get(b).success(function(b){a.SupplierTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-supplier-table").show("slow"),$("#div-supplier-detail").hide("slow")},a.NewSupplier=function(){a.ViewSupplierData={SupplierCode:"",SupplierNameEn:"",SupplierNameTh:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-supplier-table").hide("slow"),$("#div-supplier-detail").show("slow")},a.ViewSupplier=function(b){var c="http://localhost:3000/suppliers/LoadSupplierByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewSupplierData=b,a.ViewSupplierData._id=b._id,a.ViewSupplierData.SupplierCode=b.SupplierCode,a.ViewSupplierData.SupplierNameTh=b.SupplierNameTh,a.ViewSupplierData.SupplierNameEn=b.SupplierNameEn,isEmpty(b.CreateBy)?a.ViewSupplierData.CreateBy=a.User.Username:a.ViewSupplierData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewSupplierData.CreateDate=new Date:a.ViewSupplierData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewSupplierData.UpdateBy=a.User.Username:a.ViewSupplierData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewSupplierData.CreateDate=new Date:a.ViewSupplierData.CreateDate=b.CreateDate,console.log("data.SupplierCode "+b.SupplierCode)}).error(function(a){console.log(a)}),$("#div-supplier-table").hide("slow"),$("#div-supplier-detail").show("slow")},a.ConsiderDeleteSupplier=function(b,c){"search"===b?a.DeleteSupplier(c):"edit"===b&&a.DeleteSupplier(a.ViewSupplierData)},a.DeleteSupplier=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ ผู้ขาย "+b.SupplierNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/suppliers/DeleteSupplier/";i.post(d,b).success(function(c){swal("Deleted !!!","ลบรายการผู้ขาย "+b.SupplierCode+" สำเร็จ !!!","success"),a.SearchSupplier()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.$watch("SupplierCreateDate",function(b){a.ViewSupplierData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewSupplierData.CreateDate",function(b){a.SupplierCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("SupplierUpdateDate",function(b){a.ViewSupplierData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewSupplierData.UpdateDate",function(b){a.SupplierUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateSupplier=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ ผู้ขาย "+a.ViewSupplierData.SupplierNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="",d="http://localhost:3000/appconfig/GetNewCode/SP";i.get(d).success(function(b){c=b,console.log("get new code "+c),a.ViewSupplierData.SupplierCode=c,a.ViewSupplierData.CreateBy=a.User.Username,a.ViewSupplierData.UpdateBy=a.User.Username;var d="http://localhost:3000/suppliers/CreateSupplier/";i.post(d,a.ViewSupplierData).success(function(b){swal("Created !","สร้างรายการผู้ขาย "+a.ViewSupplierData.SupplierCode+" สำเร็จ !!!","success"),a.SearchSupplier()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdateSupplier=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ ผู้ขาย "+a.ViewSupplierData.SupplierNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update Supplier!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/suppliers/UpdateSupplier/";a.ViewSupplierData.UpdateBy=a.User.Username,i.post(c,a.ViewSupplierData).success(function(b){swal("Updated !!!","แก้ไขรายการผู้ขาย "+b.SupplierCode+" สำเร็จ !!!","success"),a.SearchSupplier()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SaveSupplier=function(){""==a.ViewSupplierData._id||void 0==a.ViewSupplierData._id?a.CreateSupplier():""!=a.ViewSupplierData._id&&a.UpdateSupplier()},a.CancelSupplier=function(){a.SearchSupplier(),$("#div-supplier-table").show("slow"),$("#div-supplier-detail").hide("slow")},a.SearchUom=function(){var b="http://localhost:3000/uoms/LoadUom";i.get(b).success(function(b){a.UomTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-uom-table").show("slow"),$("#div-uom-detail").hide("slow")},a.NewUom=function(){a.ViewUomData={UomCode:"",UomNameEn:"",UomNameTh:"",UomNameCn:"",IsContainer:!1,CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-uom-table").hide("slow"),$("#div-uom-detail").show("slow")},a.ViewUom=function(b){var c="http://localhost:3000/uoms/LoadUomByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewUomData=b,a.ViewUomData._id=b._id,a.ViewUomData.UomCode=b.UomCode,a.ViewUomData.UomNameTh=b.UomNameTh,a.ViewUomData.UomNameEn=b.UomNameEn,a.ViewUomData.UomNameCn=b.UomNameCn,a.ViewUomData.IsContainer=b.IsContainer,isEmpty(b.CreateBy)?a.ViewUomData.CreateBy=a.User.Username:a.ViewUomData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewUomData.CreateDate=new Date:a.ViewUomData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewUomData.UpdateBy=a.User.Username:a.ViewUomData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewUomData.UpdateDate=new Date:a.ViewUomData.UpdateDate=b.UpdateDate}).error(function(a){console.log(a)}),$("#div-uom-table").hide("slow"),$("#div-uom-detail").show("slow")},a.ConsiderDeleteUom=function(b,c){"search"===b?a.DeleteUom(c):"edit"===b&&a.DeleteUom(a.ViewUomData)},a.DeleteUom=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ หน่วย "+b.UomNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/uoms/DeleteUom/"+b._id;i.get(d).success(function(c){swal("Deleted !!!","ลบรายการหน่วย "+b.UomCode+" สำเร็จ !!!","success"),a.SearchUom()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.$watch("UomCreateDate",function(b){a.ViewUomData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewUomData.CreateDate",function(b){a.UomCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("UomUpdateDate",function(b){a.ViewUomData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewUomData.UpdateDate",function(b){a.UomUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateUom=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ หน่วย "+a.ViewUomData.UomNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="",d="http://localhost:3000/appconfig/GetNewCode/UO";i.get(d).success(function(b){c=b,console.log("get new code "+c),a.ViewUomData.UomCode=c,a.ViewUomData.CreateBy=a.User.Username,a.ViewUomData.UpdateBy=a.User.Username;var d="http://localhost:3000/uoms/CreateUom/";i.post(d,a.ViewUomData).success(function(b){swal("Created !","สร้างรายการหน่วย "+a.ViewUomData.UomCode+" สำเร็จ !!!","success"),a.SearchUom()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdateUom=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ หน่วย "+a.ViewUomData.UomNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update Uom!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/uoms/UpdateUom/";a.ViewUomData.UpdateBy=a.User.Username,i.post(c,a.ViewUomData).success(function(b){swal("Updated !!!","แก้ไขรายการหน่วย "+b.UomCode+" สำเร็จ !!!","success"),a.SearchUom()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SaveUom=function(){""==a.ViewUomData._id||void 0==a.ViewUomData._id?a.CreateUom():""!=a.ViewUomData._id&&a.UpdateUom()},a.CancelUom=function(){a.SearchUom(),$("#div-uom-table").show("slow"),$("#div-uom-detail").hide("slow")},a.SearchStaff=function(){var b="http://localhost:3000/staffs/LoadStaff";i.get(b).success(function(b){a.StaffTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-staff-table").fadeIn(),$("#div-staff-detail").fadeOut()},a.NewStaff=function(){a.ViewStaffData={Title:"",StaffCode:"",Firstname:"",Lastname:"",Nickname:"",Age:"",Sex:"",StaffAdress:"",TelNo:"",FaxNo:"",MobileNo:"",RoleCode:"",Email:"",StaffStatus:"",StartDate:"",ResignDate:"",BirthDate:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-staff-table").fadeOut(),$("#div-staff-detail").fadeIn()},a.ViewStaff=function(b){var c="http://localhost:3000/staffs/LoadStaffByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewStaffData=b,a.ViewStaffData._id=b._id,a.ViewStaffData.Title=b.Title,a.ViewStaffData.Firstname=b.Firstname,a.ViewStaffData.Lastname=b.Lastname,a.ViewStaffData.Nickname=b.Nickname,a.ViewStaffData.Age=b.Age,a.ViewStaffData.Gender=b.Gender,a.ViewStaffData.StaffAddress=b.StaffAddress,a.ViewStaffData.TelNo=b.TelNo,a.ViewStaffData.FaxNo=b.FaxNo,a.ViewStaffData.Mobile=b.Mobile,isEmpty(b.CreateBy)?a.ViewStaffData.CreateBy=a.User.Username:a.ViewStaffData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewStaffData.CreateDate=new Date:a.ViewStaffData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewStaffData.UpdateBy=a.User.Username:a.ViewStaffData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewStaffData.CreateDate=new Date:a.ViewStaffData.CreateDate=b.CreateDate}).error(function(a){}),$("#div-staff-table").fadeOut(),$("#div-staff-detail").fadeIn()},a.ConsiderDeleteStaff=function(b,c){"search"===b?a.DeleteStaff(c):"edit"===b&&a.DeleteStaff(a.ViewStaffData)},a.DeleteStaff=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ พนักงานชื่อ "+b.Firstname+" "+b.Lastname+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete please!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/staffs/DeleteStaff/";i.post(d,b).success(function(c){swal("Deleted !!!","ลบรายการพนักงาน "+b.Firstname+"สำเร็จ !!!","success"),a.SearchStaff()}).error(function(a){})}else swal("Cancelled","Your staff data is safe :)","error")})},a.CancelStaff=function(){a.SearchStaff(),$("#div-Staff-table").fadeIn(),$("#div-Staff-detail").fadeOut()},a.$watch("StaffCreateDate",function(b){a.ViewStaffData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewStaffData.CreateDate",function(b){a.StaffCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("StaffUpdateDate",function(b){a.ViewStaffData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewStaffData.UpdateDate",function(b){a.StaffUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateStaff=function(){var b=confirm("คุณต้องการสร้างรายการ พนักงาน "+a.ViewStaffData.Firstname+" ใช่ หรือ ไม่?");if(b){var c="http://localhost:3000/staffs/CreateStaff/";console.log("create staff "+a.ViewStaffData),a.ViewStaffData.CreateBy=a.User.Username,a.ViewStaffData.UpdateBy=a.User.Username,i.post(c,a.ViewStaffData).success(function(b){console.log("create success"),a.ViewStaffData.StaffCode=b.StaffCode,alert("สร้างรายการพนักงาน "+b.Firstname+" สำเร็จ !!!")}).error(function(a){console.log(a)})}},a.UpdateStaff=function(){var b=confirm("คุณต้องการแก้ไขรายการ พนักงาน "+a.ViewStaffData.Firstname+" ใช่หรือไม่ ?");if(b){var c="http://localhost:3000/customers/UpdateCustomer/";a.ViewStaffData.UpdateBy=a.User.Username,i.post(c,a.ViewStaffData).success(function(a){console.log("update success"),alert("แก้ไขรายการลูกค้า "+a.Firstname+" เรียบร้อย !!! ")}).error(function(a){console.log(a)})}},a.SaveStaff=function(){""==a.ViewStaffData._id||void 0==a.ViewStaffData._id?a.CreateStaff():""!=a.ViewStaffData._id&&a.UpdateStaff()},a.SearchRole=function(){var b="http://localhost:3000/roles/LoadRole";i.get(b).success(function(b){a.RoleTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-role-table").show("slow"),$("#div-role-detail").hide("slow")},a.NewRole=function(){a.ViewRoleData={RoleCode:"",RoleNameTh:"",RoleNameEn:"",CreateBy:a.User.Username,CreateDate:new Date,UpdateBy:a.User.Username,UpdateDate:new Date},$("#div-role-table").hide("slow"),$("#div-role-detail").show("slow")},a.ViewRole=function(b){var c="http://localhost:3000/roles/LoadRoleByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewRoleData=b,a.ViewRoleData.RoleCode=b.RoleCode,a.ViewRoleData.RoleNameEn=b.RoleNameEn,a.ViewRoleData.RoleNameTh=b.RoleNameTh,isEmpty(b.CreateBy)?a.ViewRoleData.CreateBy=a.User.Username:a.ViewRoleData.CreateBy=b.CreateBy,isEmpty(b.CreateDate)?a.ViewRoleData.CreateDate=new Date:a.ViewRoleData.CreateDate=b.CreateDate,isEmpty(b.UpdateBy)?a.ViewRoleData.UpdateBy=a.User.Username:a.ViewRoleData.UpdateBy=b.UpdateBy,isEmpty(b.UpdateDate)?a.ViewRoleData.CreateDate=new Date:a.ViewRoleData.CreateDate=b.CreateDate}).error(function(a){console.log(a)}),$("#div-role-table").hide("slow"),$("#div-role-detail").show("slow")},a.ConsiderDeleteRole=function(b,c){"search"===b?a.DeleteRole(c):"edit"===b&&a.DeleteRole(a.ViewRoleData)},a.DeleteRole=function(b){swal({title:"Are you sure?",text:"คุณต้องการลบรายการ บทบาท "+b.RoleNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, delete role!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(c){if(c){var d="http://localhost:3000/roles/DeleteRole/"+b._id;i.get(d).success(function(c){swal("Deleted !!!","ลบรายการบทบาท "+b.RoleNameEn+"สำเร็จ !!!","success"),a.SearchRole()}).error(function(a){})}else swal("Cancelled","Your staff data is safe :)","error")})},a.CancelRole=function(){$("#div-role-table").show("slow"),$("#div-role-detail").hide("slow")},a.$watch("RoleCreateDate",function(b){a.ViewRoleData.CreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewRoleData.CreateDate",function(b){a.RoleCreateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("RoleUpdateDate",function(b){a.ViewRoleData.UpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.$watch("ViewRoleData.UpdateDate",function(b){
a.RoleUpdateDate=d("date")(b,"dd/MM/yyyy HH:mm")}),a.CreateRole=function(){swal({title:"Are you sure?",text:"คุณต้องการสร้างรายการ บทบาท "+a.ViewRoleData.RoleNameTh+" ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"Yes, create it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="",d="http://localhost:3000/appconfig/GetNewCode/RL";i.get(d).success(function(b){c=b,console.log("get new code "+c),a.ViewRoleData.RoleCode=c,a.ViewRoleData.CreateBy=a.User.Username,a.ViewRoleData.UpdateBy=a.User.Username;var d="http://localhost:3000/roles/CreateRole/";i.post(d,a.ViewRoleData).success(function(b){swal("Created !","สร้างรายการบทบาท "+a.ViewRoleData.RoleCode+" สำเร็จ !!!","success"),a.SearchRole()}).error(function(a){})}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.UpdateRole=function(){swal({title:"Are you sure?",text:"คุณต้องการแก้ไขรายการ บทบาท "+a.ViewRoleData.RoleNameTh+" ใช่หรือไม่ ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#55dd6b",confirmButtonText:"Yes, update Role!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){if(b){var c="http://localhost:3000/roles/UpdateRole/";a.ViewRoleData.UpdateBy=a.User.Username,i.post(c,a.ViewRoleData).success(function(b){swal("Updated !!!","แก้ไขรายการบทบาท "+b.RoleCode+" สำเร็จ !!!","success"),a.SearchRole()}).error(function(a){})}else swal("Cancelled","Your data is safe :)","error")})},a.SaveRole=function(){void 0===a.ViewRoleData._id||a.ViewRoleData._id.length<=0?a.CreateRole():a.UpdateRole()},a.SearchReceipt=function(){var d="http://localhost:3000/receipts/LoadReceipt";i.get(d).success(function(b){a.SearchReceipts=b,a.ReceiptTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})}).error(function(a){alert(a)}),$("#div-receipt-table").show("slow"),$("#div-receipt-detail").hide("slow"),b.hash("ReceiptTab"),c()},a.NewReceipt=function(){$("#div-receipt-table").hide("slow"),$("#div-receipt-detail").show("slow")},a.ViewReceipt=function(b){var c="http://localhost:3000/receipts/LoadROHeadROLineByObjId/"+b;console.log(b),i.get(c).success(function(b){a.ViewReceiptData=b,a.ViewReceiptData.RoleCode=b.RoleCode,a.ViewReceiptData.RoleNameEn=b.RoleNameEn,a.ViewReceiptData.RoleNameTh=b.RoleNameTh,console.log(b)}).error(function(a){console.log(a)}),$("#div-receipt-table").hide("slow"),$("#div-receipt-detail").show("slow")},a.DeleteReceipt=function(){var b=confirm("คุณต้องการลบรายการ สั่งซื้อสินค้ารหัส "+a.ViewReceiptData.RONo+" ใช่ หรือ ไม่?");b&&a.SearchReceipt()},a.CancelReceipt=function(){a.SearchReceipt(),$("#div-receipt-table").show("slow"),$("#div-receipt-detail").hide("slow")},a.CreateReceipt=function(){var b=confirm("คุณต้องการสร้างรายการ ใบสั่งซ้อสินค้า "+a.ViewReceiptData.RONo+" ใช่ หรือ ไม่?");if(b){var c="http://localhost:3000/receipts/CreateReceipt/";console.log("create receipts "+a.ViewReceiptData),i.post(c,a.ViewReceiptData).success(function(b){console.log("create success"),a.ViewReceiptData.RONo=b.RONo,alert("สร้างรายการใบสั่งซื้อสินค้า "+b.RONo+" สำเร็จ !!!")}).error(function(a){console.log(a)})}},a.UpdateReceipt=function(){var b=confirm("คุณต้องการแก้ไขรายการ ใบสั่งซื้อสินค้า "+a.ViewReceiptData.RONo+" ใช่หรือไม่ ?");if(b){var c="http://localhost:3000/roles/UpdateReceipt/";console.log("update receipt "+a.ViewReceiptData),i.post(c,a.ViewReceiptData).success(function(a){console.log("update success"),alert("แก้ไขรายการบทบาท "+a.RONo+" เรียบร้อย !!! ")}).error(function(a){console.log(a)})}},a.SaveReceipt=function(){""==a.ViewReceiptData._id||void 0==a.ViewReceiptData._id?a.CreateReceipt():""!=a.ViewReceiptData._id&&a.UpdateReceipt()},a.InitShipment=function(){var b="http://localhost:3000/provinces/LoadProvince/";i.get(b).success(function(b){a.SelectBillingProvinceList=b,a.SelectReceiptProvinceList=b,a.ROHead.BillingProvinceId="",a.ROHead.BillingDistrictId="",a.ROHead.BillingSubDistrictId="",a.ROHead.BillingZipCode="",a.ROHead.ReceiptProvinceId="",a.ROHead.ReceiptDistrictId="",a.ROHead.ReceiptSubDistrictId="",a.ROHead.ReceiptZipCode=""}).error(function(a){console.log(a)})},a.UpdateBillingProvince=function(){console.log("ProvinceId "+a.ROHead.BillingProvinceId);var b="http://localhost:3000/districts/LoadDistrictByProvinceId/"+a.ROHead.BillingProvinceId;i.get(b).success(function(b){a.SelectBillingDistrictList=b}).error(function(a){console.log(a)})},a.UpdateReceiptProvince=function(){console.log("ProvinceId "+a.ROHead.ReceiptProvinceId);var b="http://localhost:3000/districts/LoadDistrictByProvinceId/"+a.ROHead.ReceiptProvinceId;i.get(b).success(function(b){a.SelectReceiptDistrictList=b}).error(function(a){console.log(a)})},a.UpdateBillingDistrict=function(){var b="http://localhost:3000/subdistricts/LoadSubDistrictByDistrictId/"+a.ROHead.BillingDistrictId;i.get(b).success(function(b){a.SelectBillingSubDistrictList=b}).error(function(a){console.log(a)})},a.UpdateReceiptDistrict=function(){var b="http://localhost:3000/subdistricts/LoadSubDistrictByDistrictId/"+a.ROHead.ReceiptDistrictId;i.get(b).success(function(b){a.SelectReceiptSubDistrictList=b}).error(function(a){console.log(a)})},a.UpdateBillingSubDistrict=function(){var b="http://localhost:3000/subdistricts/LoadSubDistrictBySubDistrictId/"+a.ROHead.BillingSubDistrictId;i.get(b).success(function(b){console.log("Bill "+b),console.log(b),console.log(b.ZipCode),a.SelectBillingZipCodeList=b,a.ROHead.BillingZipCode=b.ZipCode}).error(function(a){console.log(a)})},a.UpdateReceiptSubDistrict=function(){var b="http://localhost:3000/subdistricts/LoadSubDistrictBySubDistrictId/"+a.ROHead.ReceiptSubDistrictId;i.get(b).success(function(b){console.log("Receipt"+b),console.log(b.ZipCode),a.SelectReceiptZipCodeList=b,a.ROHead.ReceiptZipCode=b.ZipCode}).error(function(a){console.log(a)})},a.SelectStep=function(b){1==b?a.step=1:2==b?a.step=2:3==b&&(a.step=3)},a.ValidateBilling=function(){return a.ROHead.BillingName&&0!==a.ROHead.BillingName.length?a.ROHead.BillingAddress&&0!==a.ROHead.BillingAddress.length?a.ROHead.BillingProvinceId&&0!==a.ROHead.BillingProvinceId.length?a.ROHead.BillingDistrictId&&0!==a.ROHead.BillingDistrictId.length?a.ROHead.BillingSubDistrictId&&0!==a.ROHead.BillingSubDistrictId.length?a.ROHead.BillingZipCode&&0!==a.ROHead.BillingZipCode.length?a.ROHead.ReceiptName&&0!==a.ROHead.ReceiptName.length?a.ROHead.ReceiptAddress&&0!==a.ROHead.ReceiptAddress.length?a.ROHead.ReceiptProvinceId&&0!==a.ROHead.ReceiptProvinceId.length?a.ROHead.ReceiptDistrictId&&0!==a.ROHead.ReceiptDistrictId.length?a.ROHead.ReceiptSubDistrictId&&0!==a.ROHead.ReceiptSubDistrictId.length?a.ROHead.ReceiptZipCode&&0!==a.ROHead.ReceiptZipCode.length?(a.step=2,$("#nav-step2").removeAttr("disabled"),$("#nav-step2").addClass("btn-primary"),$("#nav-step1").addClass("btn-default"),void $("#nav-step3").addClass("btn-default")):void swal("เตือน","คุณต้องเลือก รหัสไปรษณีร์ ที่แสดงในใบเสร็จ","warning"):void swal("เตือน","คุณต้องเลือก แขวง/ตำบล ที่แสดงในใบเสร็จ","warning"):void swal("เตือน","คุณต้องเลือก เขต/อำเภอ ที่แสดงในใบเสร็จ","warning"):void swal("เตือน","คุณต้องเลือก จังหวัด ที่แสดงในใบเสร็จ","warning"):void swal("เตือน","คุณต้องใส่ที่อยู่ที่แสดงในใบเสร็จ","warning"):void swal("เตือน","คุณต้องใส่ชื่อที่อยู่ที่แสดงในใบเสร็จ","warning"):void swal("เตือน","คุณต้องเลือก รหัสไปรษณีร์","warning"):void swal("เตือน","คุณต้องเลือก แขวง/ตำบล","warning"):void swal("เตือน","คุณต้องเลือก เขต/อำเภอ","warning"):void swal("เตือน","คุณต้องเลือก จังหวัด","warning"):void swal("เตือน","คุณต้องใส่ที่อยู่เพื่อรับสินค้า","warning"):void swal("เตือน","คุณต้องใส่ชื่อที่อยู่","warning")},a.ValidatePayment=function(){if(""==a.PaymentType)return void swal("เตือน","คุณต้องเลือกประเภทการชำระเงิน","warning");if("Transfer"==a.PaymentType){if(""==a.PaymentBank)return void swal("เตือน","คุณต้องเลือกธนาคาร","warning")}else if("Credit"==a.PaymentType){if(!a.cardNumber||0===a.cardNumber)return void swal("เตือน","คุณต้องใส่หมายเลขบัตร","warning");if(!a.cardExpiry||0===a.cardNumber)return void swal("เตือน","คุณต้องใส่หมายเลขบัตร","warning");if(!a.cardCVC||0===a.cardNumber)return void swal("เตือน","คุณต้องใส่หมายเลขบัตร","warning")}a.step=3,$("#nav-step3").removeAttr("disabled"),$("#nav-step3").addClass("btn-primary"),$("#nav-step1").addClass("btn-default"),$("#nav-step2").addClass("btn-default"),a.ValidateFinish()},a.ValidateFinish=function(){console.log("ValidateFinish"),h.start("Processing ...");var b=m.PATH+"/appconfig/GetNewCode/RO";i.get(b).success(function(b,c,d,e){var f=b;if(f){if(f){h.message("25%");var g=m.PATH+"/mails/SendEmailStaffNewOrder/"+f,j=m.PATH+"/mails/SendEmailCustomerNewOrder/"+a.User.Email+"/"+f,k=m.PATH+"/receipts/CreateReceipt";a.ROHead.RODate=new Date,a.ROHead.RONo=f,a.ROHead.ROLineList=a.ROLineList,a.ROHead.PaymentType=a.PaymentType,a.ROHead.PaymentBank=a.PaymentBank,a.ROHead.UserId=a.User.Id,a.ROHead.PaymentStatus="N",a.ROHead.ShippingStatus="N",a.ROHead.StaffApprovePaymentStatus="N",i.post(k,a.ROHead).success(function(a,b,c,d){h.message("53%"),i.get(g).success(function(a,b,c,d){h.message("74%"),i.get(j).success(function(a,b,c,d){h.message("98%"),h.stop(),swal("Thank you for your order","You can check and track your order in history.","success")}).error(function(a,b,c,d){h.stop(),console.log("error sending email customer")})}).error(function(a,b,c,d){h.stop(),console.log("error sending email staff")})}).error(function(a,b,c,d){h.stop(),console.log("create ro head ")})}}else;}).error(function(a,b,c,d){h.stop()})},a.SearchHistoryReceipt=function(){var b=m.PATH+"/receipts/LoadROHeadByUserIdAndStatus/"+a.User.Id+"/"+a.SearchPaymentStatus+"/"+a.SearchShippingStatus+"/"+a.StartDate+"/"+a.EndDate;console.log(b),i.get(b).success(function(b){b.length>0?(a.SearchHistoryReceipts=b,a.HistoryReceiptTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})):swal("Your data not found","Cannot find your purchase order data.","warning")}).error(function(a){console.log(a)})},a.SearchCustomerOrder=function(){(void 0===a.SearchCustomerRONo||a.SearchCustomerRONo.length<=0)&&(a.SearchCustomerRONo="RO"),void 0===$("#SelectCustomerList").val()||null===$("#SelectCustomerList").val()?a.SearchCustomerName="$":a.SearchCustomerName=$("#SelectCustomerList").val();var b=m.PATH+"/receipts/LoadROHeadByStaff/"+a.SearchCustomerRONo+"/"+a.SearchCustomerName+"/"+a.SearchCustomerOrderPaymentStatus+"/"+a.SearchCustomerOrderShippingStatus+"/"+a.SearchCustomerOrderStartDate+"/"+a.SearchCustomerOrderEndDate;console.log(b),i.get(b).success(function(b){b.length>0?(a.SearchCustomerOrders=b,a.CustomerOrderTableParams=new e({page:1,count:10},{total:b.length,getData:function(a,c){a.resolve(b.slice((c.page()-1)*c.count(),c.page()*c.count()))}})):swal("Your data not found","Cannot find customer order data.","warning")}).error(function(a){console.log(a)})},a.PDF=function(){i.post("https://api.twilio.com/2015-07-09/Accounts/AC18d3cf60c6c6840932587231874b6c0b/SMS/Messages").success(function(a){console.log("success")}).error(function(a){console.log("error")})},a.InitCustomerOrder=function(){var a=m.PATH+"/users/LoadAppUser";$("#SelectCustomerList").select2({ajax:{dataType:"json",url:a,formatResult:q,processResults:function(a){return{results:$.map(a,function(a){return{id:a._id,text:a.Firstname}})}}}})},a.PerformSameBillAndReceiptAddress=function(){console.log("PerformSameBillAndReceiptAddress "+a.IsSameAddress),a.IsSameAddress&&(a.ROHead.ReceiptName=a.ROHead.BillingName,a.ROHead.ReceiptAddress=a.ROHead.BillingAddress,a.ROHead.ReceiptProvinceId=a.ROHead.BillingProvinceId,a.UpdateReceiptProvince(),a.ROHead.ReceiptDistrictId=a.ROHead.BillingDistrictId,a.UpdateReceiptDistrict(),a.ROHead.ReceiptSubDistrictId=a.ROHead.BillingSubDistrictId,a.UpdateReceiptSubDistrict(),a.ROHead.ReceiptZipCode=a.ROHead.BillingZipCode)},a.ViewRO=function(b,c){var d=m.PATH+"/receipts/LoadROHeadROLineByObjId/"+b;i.get(d).success(function(b,d,e,f){if(console.log(b),"History"===c){a.ViewHistoryRO=b;var g=m.PATH+"/aws/downloadReceiptPaymentThumbnail/"+a.ViewHistoryRO.RONo;i.get(g).success(function(a,b,c,d){var e=$("#ThumbnailReceiptPayment").closest("div").find("img").first();e.remove(),$("#ThumbnailReceiptPayment").append(a)}).error(function(a,b,c,d){console.log(a)})}else if("Customer"===c){a.ViewStaffRO=b;var g=m.PATH+"/aws/downloadReceiptPaymentThumbnail/"+a.ViewStaffRO.RONo;i.get(g).success(function(a,b,c,d){var e=$("#ThumbnailStaffViewReceiptPayment").closest("div").find("img").first();e.remove(),$("#ThumbnailStaffViewReceiptPayment").append(a)}).error(function(a,b,c,d){console.log(a)})}}).error(function(a,b,c,d){})},a.PerformValidatePaymentDocument=function(b){console.log(a.ViewStaffRO.UserId);var c=a.ViewStaffRO.UserId;if("Y"===b){var d=m.PATH+"/mails/ApprovePaymentDocument/"+c;i.get(d).success(function(b,c,d,e){var f=m.PATH+"/receipts/ApprovePayment/"+a.ViewStaffRO.RONo;i.get(f).success(function(a,b,c,d){swal("สำเร็จ","อนุมัติเอกสารการจ่ายเงินเรียบร้อย","success")}).error(function(a,b,c,d){swal("เกิดข้อผิดพลาด",a,"error")})}).error(function(a,b,c,d){})}else"N"===b&&(console.log(a.ViewStaffRO.UserId),swal({title:"Reject Payment Document",text:"Reason",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"Reject reason"},function(b){if(b===!1)return!1;if(""===b)return swal.showInputError("You need to write something!"),!1;a.ValidateForm={UserId:"",RejectReason:""},a.ValidateForm.UserId=c,a.ValidateForm.RejectReason=b;var d=m.PATH+"/mails/RejectPaymentDocument";i.post(d,a.ValidateForm).success(function(a,b,c,d){console.log("reject success"),$("#ThumbnailReceiptPayment").modal("toggle")}).error(function(a,b,c,d){swal("เกิดข้อผิดพลาด",a,"error")})}))}}),app.controller("FooterController",function(a,b){}),app.controller("HeaderController",function(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t){a.Locale="th",a.Currency="thb",a.DisplayResult=!1,a.ShowModal=!1,a.IsAdmin=!1,a.IsGuest=!0,a.ROHead={SumAmount:0,SumVatAmount:0,SumDiscountAmount:0,NetAmount:0},void 0==g.ROLineList&&(g.ROLineList=[]),a.User={Id:"",RoleNameEn:"",Username:"",Password:"",Role:{RoleCode:"",RoleNameEn:"",RoleNameTh:""},Staff:{Firstname:"Guest",Lastname:""}},a.IsLogin=!1,a.SelectedMenu="product",a.CurrencySymbol="฿",a.Multiplier=1,a.ValidateSignupEmail=!1,a.ValidateSigninEmail=!1,a.ExistEmail=!1,a.ValidEmail=!1,a.EmailValidateMessage="",a.Email="",a.Username="",a.ExistUsername=!1,a.UsernameValidateMessage="",a.IsAcceptCondition=!1,a.IsHuman=!1;d("translate")("MESSAGE.TYPE_SUCCESS"),d("translate")("MESSAGE.TYPE_WARNING"),d("translate")("MESSAGE.TYPE_ERROR"),d("translate")("MESSAGE.TITLE_SUCCESS"),d("translate")("MESSAGE.TITLE_WARNING"),d("translate")("MESSAGE.TITLE_ERROR");void 0!==s.getObject("User")&&(console.log("wanna eat cookie"),a.User=s.getObject("User"),a.User.Firstname=s.getObject("User").Firstname,a.User.Lastname=s.getObject("User").Lastname,a.Firstname=s.getObject("User").Firstname,a.Lastname=s.getObject("User").Lastname,a.IsLogin=!0,a.IsAdmin=!0,a.IsGuest=!1),a.ShowSearch=function(){$("#SearchCriteria").addClass("open")},a.HideSearch=function(){$("#SearchCriteria").removeClass("open")},a.Search=function(){console.log(a.SearchAllText);var b=r.PATH+"/products/SearchProductWithCondition/"+a.SearchAllText;h.get(b).success(function(b,c,d,e){a.Product=b,a.SelectedHeadMenu("product")}).error(function(a,b,c,d){})},a.LoginWithSocial=function(b){l.start("Logging in "+b+", please wait"),OAuth.popup(b).done(function(c){c.me().done(function(c){a.$apply(function(){a.PopulateValue(b,c)})}).fail(function(a){console.log(a.message+a.stack)})}).fail(function(a){console.log(a.message+a.stack)}),l.stop()};var u=r.PATH+"/oauths/GetPublicKey";h.get(u).success(function(a,b,c,d){OAuth.initialize(a)}).error(function(a,b,c,d){}),a.PopulateValue=function(b,c){if("facebook"===b){a.User.Firstname=c.firstname,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="facebook",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1;var d=c.avatar;h.get(d).success(function(a,b,c,d){$("#UserProfileImage").children("img").remove();var e="<img src='"+d.url+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(e),$("#LoginModal").modal("toggle")}).error(function(a,b,c,d){console.log("Oops!! error for loading profile pic from facebook ")})}else if("google_plus"===b){a.User.Firstname=c.firstname,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="google+",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1;var d=c.avatar;h.get(d).success(function(a,b,c,d){$("#UserProfileImage").children("img").remove();var e="<img src='"+d.url+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(e),$("#LoginModal").modal("toggle")}).error(function(a,b,c,d){console.log("Oops!! error for loading profile pic from facebook ")})}else if("twitter"===b){a.User.Firstname=c.alias,a.User.Lastname=c.last_name,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="twitter",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1;var e=c.avatar;h.get(e).success(function(a,b,c,d){$("#UserProfileImage").children("img").remove();var e="<img src='"+d.url+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(e),$("#LoginModal").modal("toggle")}).error(function(a,b,c,d){console.log("Oops!! error for loading profile pic from linkedin.")})}else if("linkedin"===b){a.User.Firstname=c.firstname,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="linkedin",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1;var f=c.avatar;$("#UserProfileImage").children("img").remove();var g="<img src='"+f+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(g),$("#LoginModal").modal("toggle")}else if("instagram"===b){a.User.Firstname=c.alias,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="instagram",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1;var i=c.avatar;h.get(i).success(function(a,b,c,d){$("#UserProfileImage").children("img").remove();var e="<img src='"+d.url+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(e),$("#LoginModal").modal("toggle")}).error(function(a){console.log("Oops!! error for loading profile pic from instagram ")})}else if("github"===b){a.User.Firstname=c.alias,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="github",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1;var j=c.avatar;h.get(j).success(function(a,b,c,d){$("#UserProfileImage").children("img").remove();var e="<img src='"+d.url+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(e),$("#LoginModal").modal("toggle")}).error(function(a){console.log("Oops!! error for loading profile pic from github ")})}else if("dropbox"===b)a.User.Firstname=c.name,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="dropbox",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1,c.id=c.raw.uid,$("#LoginModal").modal("toggle");else if("foursquare"===b){a.User.Firstname=c.name,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="foursquare",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1,c.id=c.raw.meta.requestId;var k=c.avatar;$("#UserProfileImage").children("img").remove();var l="<img src='"+k+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(l),$("#LoginModal").modal("toggle")}else if("soundcloud"===b){a.User.Firstname=c.alias,a.User.Lastname=c.lastname,a.User.Gender=c.gender,a.User.Email=c.email,a.User.DisplayName=c.name,a.User.Terminal="soundcloud",a.User.UserType="user",a.IsLogin=!0,a.IsAdmin=!1,a.IsGuest=!1,c.id=c.raw.id;var m=c.avatar;$("#UserProfileImage").children("img").remove();var n="<img src='"+m+"' style='-webkit-user-select: none; margin-top:-10px;width:50px; height:50px;' class='img-responsive img-circle'/>";$("#UserProfileImage").append(n),$("#LoginModal").modal("toggle")}c.provider=b,console.log(c);var o=r.PATH+"/users/CreateAndUpdateWithSocial";h.post(o,c).success(function(a,b,c,d){console.log(a)}).error(function(a,b,c,d){console.log(a),console.log(b),console.log(c),console.log(d)})},a.LoginErrorMessage="",a.$on("handleBodyMenuBroadcast",function(b,c){a.SelectedMenu=c.SelectedMenu,console.log("head ctrl from body braodcast $scope.SelectedMenu "+a.SelectedMenu)}),a.$on("handleReceiptOrderBroadcast",function(b,c){a.ROHead=c.ROHead,a.ROLineList=c.ROHead.ROLineList,console.log("$scope.ROHead.SumAmount "+a.ROHead.SumAmount)}),a.SelectedHeadMenu=function(b){console.log("head ctrl "+b),a.SelectedMenu=b,"product"==b?(n.Menu.SelectedMenu="product",a.SelectedMenu="product"):"webboard"==b?(n.Menu.SelectedMenu="webboard",a.SelectedMenu="webboard"):"payment"==b?(n.Menu.SelectedMenu="payment",a.SelectedMenu="payment"):"about"==b?(n.Menu.SelectedMenu="about",a.SelectedMenu="about"):"shipment"==b?(n.Menu.SelectedMenu="shipment",a.SelectedMenu="shipment"):"history"==b?(n.Menu.SelectedMenu="history",a.SelectedMenu="history"):"setting"==b?(n.Menu.SelectedMenu="setting",a.SelectedMenu="setting"):"account"==b?(n.Menu.SelectedMenu="account",a.SelectedMenu="account"):"customer-order"==b&&(n.Menu.SelectedMenu="customer-order",a.SelectedMenu="customer-order"),a.$emit("handleHeadMenuEmit",{SelectedMenu:b})},a.SelectedHeadCurrency=function(b){a.SelectedCurrency=b,"thb"==b?(q.Currency.SelectedCurrency="thb",a.SelectedMenu="thb",a.CurrencySymbol="฿",a.Multiplier=1,$("#THB").addClass("active")):"usd"==b?(q.Currency.SelectedCurrency="usd",a.SelectedCurrency="usd",a.CurrencySymbol="$",a.Multiplier=q.Currency.MultiplierTHB2USD,$("#USD").addClass("active")):"eur"==b?(q.Currency.SelectedCurrency="eur",a.SelectedCurrency="eur",a.CurrencySymbol="€",a.Multiplier=q.Currency.MultiplierTHB2EUR,$("#USD").addClass("active")):"gbp"==b?(q.Currency.SelectedCurrency="gbp",a.SelectedCurrency="gbp",a.CurrencySymbol="£",a.Multiplier=q.Currency.MultiplierTHB2GBP,$("#USD").addClass("active")):"cny"==b&&(q.Currency.SelectedCurrency="cny",a.SelectedCurrency="cny",a.CurrencySymbol="¥",a.Multiplier=q.Currency.MultiplierTHB2CNY,$("#CNY").addClass("active")),a.$emit("handleCurrencyEmit",{SelectedCurrency:b,MultiplierTHB2USD:.0299579,MultiplierTHB2EUR:.0261958,MultiplierTHB2GBP:.0189096,MultiplierTHB2CNY:.18})},a.SelectedLocale=function(b){"th"==b?(a.Locale="th",o.Locale.SelectedLocale="th",j.use(b)):"us"==b?(a.Locale="us",o.Locale.SelectedLocale="us",j.use(b)):"cn"==b&&(o.Locale.SelectedLocale="cn",a.Locale="cn",j.use(b)),a.$emit("handleLocaleEmit",{SelectedLocale:b})};var v=b.url();if(v.indexOf("confirm=")>-1){l.start("Please wait ...");var w=v.substr(v.indexOf("confirm=")+8),x=r.PATH+"/users/ActivateAppUser/"+w;l.message("40%"),h.get(x).success(function(a,b,c,d){l.message("100%"),l.stop(),swal("Sign up Success","Your account is now activated.","success")}).error(function(a,b,c,d){l.stop(),swal("Error","Cannot find your account.","error")})}else if(v.indexOf("forget=")>-1){var w=v.substr(v.indexOf("forget=")+7);console.log(v),console.log(w);var y=Base64.decode(w),z=y.split("|"),A=z[0];console.log(y),console.log(A),a.ForgetPasswordEmail=A,$("#InputPasswordModal").modal("show")}a.ChangePassword=function(){if(a.ChangeForgetPassword===a.ConfirmChangeForgetPassword){var b=r.PATH+"/users/PerformChangePassword/"+a.ForgetPasswordEmail+"/"+a.ChangeForgetPassword;h.get(b).success(function(a,b,c,d){swal("Change Password Success","Your password has changed successfully.","success"),$("#InputPasswordModal").modal("toggle")}).error(function(a,b,c,d){swal("Error","Cannot find your account.","error")})}else swal("Warning","Password and Confirm Password must be the same.","warning")},a.Signup=function(){l.start("Please wait while system sending email..."),console.log("1 Email "+a.Email);var c=a.Email,d=r.PATH+"/users/CreateAppUser/"+a.Username+"/"+a.Password+"/"+c;a.User.Firstname=a.Firstname,a.User.Lastname=a.Lastname,h.post(d,a.User).success(function(d,e,f,g){l.message("25%"),console.log("2 Email "+a.Email);var i=b.host()+":"+b.port(),j=r.PATH+"/base64/GenerateHashLink/"+a.Username+"/"+a.Password+"/"+c;console.log("3 Email "+a.Email),h.get(j).success(function(a,b,d,e){var f=a,g=r.PATH+"/mails/SendEmailConfirmation/"+c+"/"+i+"/"+f;l.message("75%"),h.get(g).success(function(a,b,c,d){l.message("100%"),l.stop(),swal("Sign up almost Success","Please check your email to activate your account","success"),$("#LoginModal").modal("toggle")}).error(function(a,b,c,d){})}).error(function(a,b,c,d){}),a.Firstname="",a.Lastname="",a.Email="",a.Username="",a.Password=""}).error(function(a,b,c,d){swal("Error","Cannot sign up this time","error")})},a.CheckSigninEmail=function(){console.log("CheckSigninEmail"+a.username)},a.CheckSignupEmail=function(){console.log("CheckSignupEmail"+a.Email)},a.CheckSignupUsername=function(){console.log("CheckSignupUsername "+a.Username)},a.ValidateExistUsername=function(){if(a.Username.length>0){var b=r.PATH+"/users/IsExistUsername/"+a.Username;h.get(b).success(function(b){b?(a.ExistUsername=!0,a.UsernameValidateMessage="Warning! This Username is reserved.",$("#UsernameAlert").removeClass("alert-success"),$("#UsernameAlert").addClass("alert-warning"),$("#UsernameAlert").show()):(a.ExistUsername=!1,a.UsernameValidateMessage="Success! This Username is usable.",$("#UsernameAlert").removeClass("alert-warning"),$("#UsernameAlert").addClass("alert-success"),$("#UsernameAlert").show())}).error(function(a){})}},a.ValidateEmail=function(){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;!b.test(a.Email)||!a.Email&&a.Email.length>0?(a.ValidateSignupEmail=!1,a.ValidEmail=!1,a.EmailValidateMessage="Warning! Not an email format.",$("#EmailAlert").removeClass("alert-success"),$("#EmailAlert").addClass("alert-warning"),$("#EmailAlert").show()):(a.ValidateSignupEmail=!0,a.ValidEmail=!0,a.EmailValidateMessage="This email is valid format.",$("#EmailAlert").removeClass("alert-warning"),$("#EmailAlert").addClass("alert-success"),$("#EmailAlert").show()),1==a.ValidEmail&&a.ValidateExistEmail()},a.ValidateExistEmail=function(){if(a.Email.length>0){var b=r.PATH+"/users/IsExistEmail/"+a.Email;h.get(b).success(function(b){console.log("email exist "+b),b?(a.EmailValidateMessage="Warning! This Email is reseved",a.ExistEmail=!0,$("#EmailAlert").removeClass("alert-success"),$("#EmailAlert").addClass("alert-warning"),$("#EmailAlert").show()):(a.EmailValidateMessage="Success! This Email is usable",a.ExistEmail=!1,$("#EmailAlert").removeClass("alert-warning"),$("#EmailAlert").addClass("alert-success"),$("#EmailAlert").show())}).error(function(a){})}},a.Login=function(){var b=r.PATH+"/users/FindByUsernameAndPassword/"+a.username+"/"+a.password;h.get(b).success(function(b,c,d,e){if(console.log("data "+b),!b||void 0===b)return swal("Error","Cannot login maybe username or password incorrect","error"),a.User=[],a.IsAdmin=!1,void(a.IsGuest=!1);var f=r.PATH+"/users/isActivateUser/"+a.username+"/"+a.password;h.get(f).success(function(c){if(console.log(c),c&&void 0!==c){if(a.User=b,a.User.Id=b._id,a.User.Username=b.Username,a.User.Password=b.Password,a.User.Role.RoleCode=b.Role.RoleCode,a.User.Role.RoleNameEn=b.Role.RoleNameEn,a.User.Role.RoleNameTh=b.Role.RoleNameTh,a.Firstname=b.Firstname,a.Lastname=b.Lastname,a.User.Email=b.Email,"Admin"==a.User.Role.RoleNameEn?(a.IsAdmin=!0,a.IsGuest=!1):(a.IsAdmin=!1,a.IsGuest=!1),a.IsLogin=!0,$("#LoginModal").modal("toggle"),a.RememberMe){var d=new Date;d.setDate(d.getDate()+1),s.putObject("User",a.User)}var e=r.PATH+"/aws/downloadUserImageProfile/"+a.User.Id+"/"+a.User.Username;h.get(e).success(function(b,c,d,e){a.User.ProfileImage=b,$("#UserProfileImage").children("img").remove(),$("#UserProfileImage").append(b)}).error(function(a,b,c,d){console.log(a)});var f=r.PATH+"/aws/downloadUserImageThumbnail/"+a.User.Id+"/"+a.User.Username;h.get(f).success(function(a,b,c,d){$("#ThumbnailProfileImage").children("img").remove(),$("#ThumbnailProfileImage").append(a)}).error(function(a,b,c,d){console.log(a)}),a.username="",a.password="",a.$emit("handleUserEmit",{User:a.User})}else swal("Error","Sorry, your account is not activated yet, please check your email.","error")}).error(function(a){})}).error(function(b,c,d,e){console.log("Log in Not found"),a.LoginErrorMessage="Error! Wrong Username or Password",$("#LoginErrorAlert").show(),a.IsAdmin=!1,a.IsGuest=!0,a.IsLogin=!1})},a.Logout=function(){swal({title:"Are you sure?",text:"คุณต้องการออกจากระบบ ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, log out!",cancelButtonText:"No, cancel please!",closeOnConfirm:!1,closeOnCancel:!1},function(b){a.$apply(function(){b?(swal("Success","Log out success","success"),a.User={},a.Firstname="",a.Lastname="",a.IsLogin=!1,a.IsAdmin=!1,a.IsGuest=!0,a.AddNoProfileUserImage(),s.remove("User")):(console.log("cancel"),swal("Cancelled","Stay in system :)","success"))})})},a.AddNoProfileUserImage=function(){$("#UserProfileImage").children("img").remove();var a='<img src="/images/noProfileImg.png"  class="img-circle" width="40" height="40">';$("#UserProfileImage").append(a)},a.ViewCart=function(){console.log("view cart "+a.ROHead)},a.UpdateCartBuyQty=function(b,c){var d=/^\d+(\.\d{1,2})?$/,e=d.test(c.toString());if(e)a.UpdateCartSummary();else{var f=j("MESSAGE.CONTENT.UPDATE_CART_BUY_QTY");swal("Warning",f,"warning"),$("#BuyQty")[b].focus()}},a.UpdateCartUom=function(b,c,d){console.log("UpdateCartUom ..ROLINE "+b+" uom "+c);var e="http://localhost:3000/uoms/LoadUomByUomCode/"+c;h.get(e).success(function(c){console.log("IsContainer "+c.IsContainer),1==c.IsContainer?(b.Price=b.DrContainWholesalePrice,b.Amount=b.Quantity*b.DrContainWholesalePrice):0==c.IsContainer&&(b.Price=b.DrRetailPrice,b.Amount=b.Quantity*b.DrRetailPrice),a.ROHead.ROLineList.splice(d,1),a.ROHead.ROLineList.splice(d,0,b),a.UpdateCartSummary()}).error(function(a){})},a.DeleteCartProduct=function(b,c,d){swal({title:"Are you sure?",text:"คุณต้องการลบรายการสินค้า "+c.ProductNameTh+" !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!0,closeOnCancel:!0},function(b){a.$apply(function(){b&&($("#CartRow"+d).remove(),a.ROHead.ROLineList.splice(d,1),a.ROLineList.splice(d,1),a.ROHead.ROLineList.length<=0||void 0===a.ROHead.ROLineList?($("#HideCartTable").show("slow"),$("#ShowCartTable").hide("slow")):a.ROHead.ROLineList.length>0&&($("#HideCartTable").hide("slow"),$("#ShowCartTable").show("slow")),a.UpdateCartSummary())})})},a.UpdateCartSummary=function(){console.log("UpdateCartSummary ..");var b=a.ROHead.ROLineList,c=(a.ROHead,0),d=0,e=0,f=0;for(i=0;i<b.length;i++){console.log(b[i].Quantity),console.log(b[i].Price);var g=b[i];console.log(g.UomCode),g.Amount=g.Quantity*g.Price,g.VatAmount=.07*g.Amount,c+=g.Amount,e+=g.VatAmount,d+=g.DiscountAmount}f=c-d+e,a.ROHead.SumAmount=c,a.ROHead.SumVatAmount=e,a.ROHead.SumDiscountAmount=d,a.ROHead.NetAmount=f},a.jsPDF=function(){
var a=new jsPDF,b={"#editor":function(a,b){return!0}};a.fromHTML($("#receiptorder").get(0),15,15,{width:170,elementHandlers:b}),a.save("sample-file.pdf")},a.ContinueShopping=function(){console.log("continue shop .."),$("#CartModal").modal("toggle")},a.SaveCart=function(){console.log("save cart ..")},a.ClearCart=function(){console.log("ClearCart .."),swal({title:"Are you sure?",text:"คุณต้องการล้างสินค้าในตะกร้า ใช่ หรือ ไม่?",type:"warning",showCancelButton:!0,confirmButtonColor:"#dd6b55",confirmButtonText:"Yes, clear it!",cancelButtonText:"No, cancel please!",closeOnConfirm:!0,closeOnCancel:!0},function(b){a.$apply(function(){if(b){var c=a.ROHead.ROLineList;c.length;a.ROHead.ROLineList.length=0}else swal("Cancelled","Your product data is safe :)","success")})})},a.ShipmentProcess=function(){console.log("shipment.."),a.IsUserInSession()?(console.log("user lod in "),$("#CartModal").modal("toggle"),a.SelectedMenu="shipment",n.Menu.SelectedMenu="shipment",$("html, body").animate({scrollTop:$("#shipment-section").offset().top},"slow"),a.$emit("handleHeadMenuEmit",{SelectedMenu:"shipment"})):(console.log("user NOT lod in "),swal({title:"Are you sure?",text:"คุณต้องเข้าสู่ระบบก่อนดำเนินการต่อ",type:"warning",showCancelButton:!0,confirmButtonColor:"#5583dd",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,closeOnCancel:!0},function(b){a.$apply(function(){b&&($("#CartModal").modal("toggle"),$("#LoginModal").modal("show"))})}))},a.ngDialog=function(){m.open({template:"popupTmpl.html"})};var B=r.PATH+"/recaptchas/GetRecaptchaKey";h.get(B).success(function(b,c,d,e){a.response=null,a.widgetId=null,a.model={key:b}}).error(function(a,b,c,d){}),a.setResponse=function(b){console.info("Response available"),a.response=b,console.log(a.response),a.response&&(a.IsHuman=!0)},a.setWidgetId=function(b){console.info("Created widget ID: %s",b),a.widgetId=b},a.cbExpiration=function(){console.info("Captcha expired. Resetting response object"),a.response=null},a.submit=function(){var b;console.log("sending the captcha response to the server",a.response),b?console.log("Success"):(console.log("Failed validation"),t.reload(a.widgetId))},a.IsUserInSession=function(){return a.User?a.User.Id.length>0?!0:void 0:!1},a.ForgetPassword=function(){$("#LoginModal").modal("toggle"),$("#ForgetPasswordModal").modal("show")},a.SendEmailForgetPassword=function(){var c=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(c.test(a.ForgetPasswordEmail)&&a.ForgetPasswordEmail.length>0){console.log("valid");var e=r.PATH+"/users/IsExistEmail/"+a.ForgetPasswordEmail;h.get(e).success(function(c,e,f,g){if(l.message("25%"),c){var i=b.host()+":"+b.port(),j=Base64.encode(a.ForgetPasswordEmail+"|KZH"),k=r.PATH+"/mails/SendEmailForgetPassword/"+a.ForgetPasswordEmail+"/"+i+"/"+j;l.message("75%"),h.get(k).success(function(a,b,c,e){l.stop();var f=d("translate")("MESSAGE.TYPE_SUCCESS"),g=d("translate")("MESSAGE.TITLE_SUCCESS_DEFAULT");swal(g,"Please check your email",f),$("#ForgetPasswordModal").modal("toggle")}).error(function(a,b,c,d){swal("Error","Cannot sign up this time","error")})}else swal("Error","Cannot find your account.","error")}).error(function(a,b,c,d){swal("Error","The error has occur please contact admin","error")})}else console.log("not valid"),swal("Warning","Not valid Email","warning")},a.TestBcrypt=function(){var b=r.PATH+"/bcrypts/encryptBcrypt/"+a.text2bcrypt;h.get(b).success(function(b,c,d,e){console.log(b),a.enc_bcrypt=b}).error(function(a,b,c,d){console.log("not valid")})},a.TestComBcrypt=function(){var b=r.PATH+"/bcrypts/compareBcrypt/"+a.text2combcrypt;h.get(b).success(function(a,b,c,d){console.log(a)}).error(function(a,b,c,d){console.log("not valid")})}}),app.controller("PurchaseHistoryController",function(a){}),app.controller("ProductController",function(a,b){}),app.controller("SettingController",function(a){}),app.controller("SideController",function(a,b){function c(){a.$apply(function(){a.close()})}a.leftVisible=!1,a.rightVisible=!1,a.close=function(){a.leftVisible=!1,a.rightVisible=!1},a.showLeft=function(b){a.leftVisible=!0,b.stopPropagation()},a.showRight=function(b){a.rightVisible=!0,b.stopPropagation()},b.$on("documentClicked",c),b.$on("escapePressed",c)});